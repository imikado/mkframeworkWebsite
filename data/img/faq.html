<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>MkFramework V4</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="site/css/bootstrap.min.css"/>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

<link rel="stylesheet" type="text/css" href="site/css/main.css" media="screen" />
<script src="site/js/main.js" type="text/javascript"></script>

<link rel="alternate" type="application/rss+xml" title="RSS" href="news.rss"/>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34332613-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
	
	<!-- Fixed navbar -->
    <div class="navbar navbar-inverse" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				  </button>
				<a class="navbar-brand" href="/"> MkFramework</a>
			</div>
			<div class="navbar-collapse collapse">
				<ul class="nav navbar-nav">
					<li class="dropdown">
					  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Menu <b class="caret"></b></a>
					  <ul class="dropdown-menu">
						
			<li><h4>Le site</h4></li>
		

					<li><a href="accueil.html">Accueil</a></li>
		

					<li><a href="news.html">News</a></li>
		

					<li><a href="roadmap.html">Roadmap</a></li>
		

			<li><h4>Pr&eacute;sentation</h4></li>
		

					<li><a href="fonctionnement.html">Sch&eacute;mas</a></li>
		

					<li><a href="builder.html">Le g&eacute;n&eacute;rateur web</a></li>
		

					<li><a href="orm.html">L'ORM <br/>(La couche mod&egrave;le)</a></li>
		

					<li><a href="configuration.html">Configuration</a></li>
		

					<li><a href="security.html">La s&eacute;curit&eacute;</a></li>
		

					<li><a href="api.html">L'API (Phpdoc)</a></li>
		

			<li><h4>Apprendre</h4></li>
		

					<li><a href="start.html">D&eacute;marrer</a></li>
		

					<li><a href="tutoriaux.html">Tutoriaux</a></li>
		

					<li><a href="screencasts.html">Tutotoriaux vid&eacute;os</a></li>
		

					<li><a href="bestpractices.html">Bonnes pratiques</a></li>
		

					<li><a href="slides.html">Slides</a></li>
		

			<li><h4>T&eacute;l&eacute;charger</h4></li>
		

					<li><a href="telecharger.html">Framework &amp; plus</a></li>
		

					<li><a href="projets.html">Les applications</a></li>
		

					<li><a href="modules.html">Les modules</a></li>
		

					<li><a href="plugins.html">Les plugins</a></li>
		

			<li><h4>Aide</h4></li>
		

			<li class="active"><a href="faq.html">FAQ <br/>Foire aux questions</a></li>
		

					<li><a href="index.php?:nav=forum">Forum / aide</a></li>
		

 
					</ul>
				</ul>
				<ul class="nav navbar-nav navbar-right">
										<li><a style="font-weight:bold" href="faq.html">FR</a></li>

					<li><a  href="faq_en.html">EN</a></li>
				</ul>
			</div><!--/.nav-collapse -->
		</div><!-- container -->
    </div>
		
	<div class="container">
		
      <div class="row">

        <div class="col-sm-8 blog-main">
		<h1>FAQ: Forum &agrave; Questions</h1><h2>Basiques</h2><a href="#getParam">R&eacute;cuperer une variable GET,POST </a><br /><a href="#getParams">R&eacute;cuperer l&#039;ensemble des param&egrave;tres </a><br /><a href="#passerunevariabledelactionalavue">Passer une variable de  l&#039;action &agrave; la vue </a><br /><a href="#issetunevariabledelactionalavue">V&eacute;rifier si une variable est assign&eacute; &agrave; la vue </a><br /><a href="#chargerunmoduleaunemplacementtemplate">Charger un module &agrave; un emplacement du layout </a><br /><a href="#executeruntraitementpourlensembledunmodule">Executer un traitement pour l&#039;ensemble d&#039;un module </a><br /><a href="#ajouterunplugin">Ajouter un plugin </a><br /><a href="#appelerunplugin">Appeler / Utiliser un plugin </a><br /><a href="#unexportexcelcsv">Un export excel (csv pour &ecirc;tre exact) </a><br /><a href="#unexportexcelcsvutf8">Un export excel utf-8 (csv pour &ecirc;tre exact) </a><br /><a href="#getnommodule">R&eacute;cuperer le nom du module </a><br /><a href="#getnomaction">R&eacute;cuperer le nom de l&#039;action </a><br /><a href="#getnav">R&eacute;cuperer la variable de navigation </a><br /><a href="#getlink">Faire un lien vers l&#039;action &quot;liste&quot; du module &quot;article&quot; </a><br /><a href="#paramlayout">Comment passer un parametre au layout </a><br /><a href="#issetparamlayout">Comment verifier un parametre dans le layout </a><br /><a href="#redirect">Comment faire une redirection </a><br /><a href="#log">Loguer dans l&#039;application </a><br /><a href="#filegetcontent">Lire un fichier </a><br /><a href="#filesetcontent">Cr&eacute;er/&eacute;crire dans un fichier </a><br /><a href="#dirsave">Cr&eacute;er un r&eacute;pertoire  </a><br /><a href="#dirlist">Lister les fichiers d&#039;un r&eacute;pertoire  </a><br /><a href="#sdirlist">Lister les sous-r&eacute;pertoires d&#039;un r&eacute;pertoire  </a><br /><a href="#plugin_mail">Envoyer un email  </a><br /><br /><br /><h2>Avanc&eacute;e</h2><a href="#livrer">Livrer une application en production </a><br /><a href="#authenabled">Comment utiliser l&#039;authentificaiton </a><br /><a href="#i18n">Comment faire un site multi-lingue </a><br /><a href="#urlrewriting">Utiliser l&#039;url rewriting </a><br /><a href="#debug">Utiliser la barre de debug </a><br /><a href="#chart">Cr&eacute;er des graphiques </a><br /><a href="#plugin_date">Manipuler des dates </a><br /><a href="#plugin_form">Utiliser le plugin plugin_form </a><br /><a href="#plugin_wsdl">Comment cr&eacute;&eacute;r un webservice </a><br /><a href="#plugin_xmlObject">Comment exporter un objet en xml </a><br /><a href="#plugin_xmlListObject">Comment exporter une liste/tableau d&#039;objet en xml </a><br /><a href="#automatiserrow">Automatiser un retraitement sur des enregistrements </a><br /><a href="#abstract_modelVirtual">Cr&eacute;er un mod&egrave;le virtuel </a><br /><h2>Param&eacute;trage</h2><a href="#virtualhost">Param&eacute;trer le virtualhost </a><br /><a href="#parametremodulepardefaut">Parametrer le module par defaut </a><br /><h2>Cache</h2><a href="#cache">G&eacute;rer le cache </a><br /><a href="#cachevar">G&eacute;rer le cache de variable </a><br /><h2>JQuery</h2><a href="#jqueryinnerhtml">JQuery, faire un lien innerHtml </a><br /><a href="#jquerymodifyhtml">JQuery, modifier un element html </a><br /><a href="#jquerycallback">JQuery, faire un appel ajax avec callback </a><br /><br /><h1>Tutoriaux</h1><a href="tutoriaux.html#newsite">Cr&eacute;er un nouveau site </a><br /><a href="tutoriaux.html#model">Cr&eacute;er la couche mod&egrave;le de votre site </a><br /><a href="tutoriaux.html#crud">Cr&eacute;er un module CRUD (Create Read Update Delete) </a><br /><a href="tutoriaux.html#menu">Ajouter un menu &agrave; votre site </a><br /><a href="tutoriaux.html#auth">Ajouter une authentication &agrave; une page/un module </a><br /><a href="tutoriaux.html#auth2">Ajouter une authentication via le builder </a><br /><a href="tutoriaux.html#upload">Permettre l&#039;upload d&#039;un fichier </a><br /><a href="tutoriaux.html#crudembedded">Cr&eacute;er un module CRUD int&eacute;grable (Create Read Update Delete) </a><br /><a href="tutoriaux.html#formulaire">V&eacute;rifier les entr&eacute;es d&#039;un formulaire </a><br /><a href="tutoriaux.html#ajoutcheck">Ajouter une verification particuliere </a><br /><a href="tutoriaux.html#formulaireplugin">Facilitez la cr&eacute;ation de formulaire </a><br /><a href="tutoriaux.html#acl">G&eacute;rer des permissions (ACL) </a><br /><a href="tutoriaux.html#usecrudembedded">Utilisez des CRUD int&eacute;grables </a><br /><a href="tutoriaux.html#zf1">Utiliser des classes Zend Framework 1 </a><br /><a href="tutoriaux.html#zf2">Utiliser des classes Zend Framework 2 </a><br /><a href="tutoriaux.html#token">Utiliser les jetons pour &eacute;viter les failles XSRF </a><br /><a href="tutoriaux.html#cachesite">Faire un site avec un cache html complet </a><br /><a href="tutoriaux.html#tableguriddo">Impl&eacute;menter un tableau Guriddo </a><br /><a href="tutoriaux.html#debug">Utiliser la barre de debug </a><br /><a href="tutoriaux.html#webservice">Faire un webservice </a><br /><a href="tutoriaux.htmlfaq.html">Une question ? la FAQ est l&agrave; pour &ccedil;a </a><br /><br /><h1>R&eacute;ponses</h1><a id="virtualhost" name="virtualhost"></a><br /><h2>Param&eacute;trer le virtualhost</h2>Voici la param&eacute;trage d&#039;un virtualhost pour la configuration suivante:<br />Sources: /var/www/mkframework/data/genere/votreApplication<br />Url: www.projet.com<br /><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">mkframework</span><span style="color: #007700">/</span><span style="color: #0000BB">data</span><span style="color: #007700">/</span><span style="color: #0000BB">genere</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">mkframework</span><span style="color: #007700">/</span><span style="color: #0000BB">data</span><span style="color: #007700">/</span><span style="color: #0000BB">genere</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Au moment de la livraison voir ci dessous<br /><br /><a id="livrer" name="livrer"></a><br /><h2>Livrer une application en production</h2>Le builder g&eacute;n&egrave;re les applications dans son repertoire data/genere/<br />Il suffit de copier le repertoire librairie (lib/framework) et le repertoire de votre application (data/genere/votreApplication) sur le serveur.<br />Il faut ensuite indiquer dans l&#039;application o&ugrave; se situe la librairie (modifier le fichier conf/path.ini.php variable lib dans la section [path] )<br />note: si votre application a &eacute;t&eacute; g&eacute;n&eacute;r&eacute;e avec une ancienne version du framework, le fichier contenant les chemin devrait &ecirc;tre conf/site.ini.php et non conf/path.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">path</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">lib</span><span style="color: #007700">=../../../</span><span style="color: #0000BB">lib</span><span style="color: #007700">/</span><span style="color: #0000BB">framework</span><span style="color: #007700">/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Vous pouvez &eacute;galement activer la variable de cache d&#039;autoload, qui cr&eacute;era un fichier de cache autoload.php dans votre repertoire de cache (par d&eacute;faut data/cache)*<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">cache</span><span style="color: #007700">]<br />(...)<br /></span><span style="color: #0000BB">autoload</span><span style="color: #007700">.</span><span style="color: #0000BB">enabled<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />Pour le virtualhost (en ayant plac&eacute; le site dans /var/www par exemple)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Pour nginx:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />server&nbsp;</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;listen&nbsp;80&nbsp;default_server</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;listen&nbsp;</span><span style="color: #007700">[::]:</span><span style="color: #0000BB">80&nbsp;default_server&nbsp;ipv6only</span><span style="color: #007700">=</span><span style="color: #0000BB">on</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;root&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;index&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">html&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">htm</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Make&nbsp;site&nbsp;accessible&nbsp;from&nbsp;http://www.projet.com/<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;server_name&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;location&nbsp;</span><span style="color: #007700">/&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;First&nbsp;attempt&nbsp;to&nbsp;serve&nbsp;request&nbsp;as&nbsp;file,&nbsp;then<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;as&nbsp;directory,&nbsp;then&nbsp;fall&nbsp;back&nbsp;to&nbsp;displaying&nbsp;a&nbsp;404.<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try_files&nbsp;$uri&nbsp;$uri</span><span style="color: #007700">/&nbsp;=</span><span style="color: #0000BB">404</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Uncomment&nbsp;to&nbsp;enable&nbsp;naxsi&nbsp;on&nbsp;this&nbsp;location<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;include&nbsp;/etc/nginx/naxsi.rules<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;location&nbsp;</span><span style="color: #007700">~&nbsp;\.</span><span style="color: #0000BB">php</span><span style="color: #007700">$&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_split_path_info&nbsp;</span><span style="color: #007700">^(.+\.</span><span style="color: #0000BB">php</span><span style="color: #007700">)(/.+)$;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;NOTE:&nbsp;You&nbsp;should&nbsp;have&nbsp;"cgi.fix_pathinfo&nbsp;=&nbsp;0;"&nbsp;in&nbsp;php.ini<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;With&nbsp;php5-cgi&nbsp;alone:<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;127.0.0.1:9000;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;With&nbsp;php5-fpm:<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;unix</span><span style="color: #007700">:/var/</span><span style="color: #0000BB">run</span><span style="color: #007700">/</span><span style="color: #0000BB">php5</span><span style="color: #007700">-</span><span style="color: #0000BB">fpm</span><span style="color: #007700">.</span><span style="color: #0000BB">sock</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">include&nbsp;</span><span style="color: #0000BB">fastcgi_params</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;deny&nbsp;access&nbsp;to&nbsp;.htaccess&nbsp;files,&nbsp;if&nbsp;Apache's&nbsp;document&nbsp;root<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;concurs&nbsp;with&nbsp;nginx's&nbsp;one<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#location&nbsp;~&nbsp;/\.ht&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;deny&nbsp;all;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#}<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Si vous utilisez l&#039;url rewriting #link ##urlrewriting #label lisez ceci link#<br /><br />* faites bien attention &agrave; ce que l&#039;application ait les droits d&#039;&eacute;criture sur ce r&eacute;pertoire de cache.<br /><br /><a id="getParam" name="getParam"></a><br /><h2>R&eacute;cuperer une variable GET,POST</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'mavariable'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><a id="getParams" name="getParams"></a><br /><h2>R&eacute;cuperer l&#039;ensemble des param&egrave;tres</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getParams</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="cache" name="cache"></a><br /><h2>G&eacute;rer le cache</h2>Vous avez deux solutions:<br />1. Soit la totalit&eacute; de la page est mise en cache,<br />Ceci en indiquant enabled=1 dans le fichier conf/site.ini.php section [cache]<br />Vous pouvez d&eacute;finir le temps de validit&eacute; du cache avec le param&egrave;tre lifetime (toujours au m&ecirc;me endroit)<br /><br />Note: dans le cas o&ugrave; l&#039;ensemble du site doit &ecirc;tre mis en cache sauf une ou deux pages,<br />vous pouvez activer le cache (dans le fichier de config) et ajouter une m&eacute;thode before_lapagehorscache dans laquelle vous annulez le cache (Par exemple une page formulaire de contact).<br /><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//cette&nbsp;methode&nbsp;est&nbsp;executée&nbsp;pour&nbsp;tout&nbsp;le&nbsp;module&nbsp;avant&nbsp;de&nbsp;verifier&nbsp;le&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//il&nbsp;suffit&nbsp;donc&nbsp;de&nbsp;forcer&nbsp;la&nbsp;valeur&nbsp;à&nbsp;0<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'cache.enabled'</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//cette&nbsp;methode&nbsp;est&nbsp;executée&nbsp;juste&nbsp;pour&nbsp;l'action&nbsp;pagehorscache&nbsp;avant&nbsp;de&nbsp;verifier&nbsp;le&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before_pagehorscache</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//il&nbsp;suffit&nbsp;donc&nbsp;de&nbsp;forcer&nbsp;la&nbsp;valeur&nbsp;a&nbsp;0<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'cache.enabled'</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_pagehorscache</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//votre&nbsp;page&nbsp;hors&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br />2. Soit une partie (un couple module/action)<br />Pour cela, il faut utiliser la methode _root::getCache(), qui r&eacute;cup&egrave;re l&#039;instance unique de la class _cache<br />Le cache est g&eacute;r&eacute; avec les objets vue (_view) vous verifiez qu&#039;il existe un cache,<br />- si oui, vous verifier si il est recent (date de modif superieur &agrave; N minutes), vous utilisez le cache,<br />- si non, vous faites votre traitement et n&#039;oubliez pas d&#039;enregistrer la vue dans le cache &agrave; la fin<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">getViewList</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a&nbsp;t&nbsp;il&nbsp;un&nbsp;cache&nbsp;actif&nbsp;de&nbsp;moins&nbsp;d'1&nbsp;minute<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oModelArticle</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">model_article</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModelArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListColumn</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;enregistre&nbsp;la&nbsp;vue&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getViewList</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note vous pouvez demander a toujours utiliser un cache, pour les parties statiques (exple: un menu)<br />pour cela ne renseignez pas de limite<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a&nbsp;t&nbsp;il&nbsp;un&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tLink</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Accueil'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::accueil'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'News'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::news'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Présentation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::presentation'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Librairie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::librairie'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'L&nbsp;ORM'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::orm'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Tutoriaux'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::tutoriaux'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CommentKonFait&nbsp;?'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::faq'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Builder'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::builder'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink</span><span style="color: #007700">=</span><span style="color: #0000BB">$tLink</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;enregistre&nbsp;la&nbsp;vue&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Note: si vous modifiez le menu, il vous suffit de supprimer le fichier data/cache/menu.cache pour qu&#039;il regenere un cache<br /><br />Attention dans le cas de ce menu, si on laisse ainsi, l&#039;onglet accueil sera toujours selectionn&eacute;: mis en cache la premi&egrave;re fois<br />Lors qu&#039;on va appeler la page news, il affichera le cache du menu (onglet accueil selectionn&eacute;) :(<br />Pour &eacute;viter cela, il faut ajouter un id permettant de creer un cache pour toutes les variantes du menu (une par onglet)<br />En faisant ainsi par exemple<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_index</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//ici&nbsp;on&nbsp;cree&nbsp;un&nbsp;id&nbsp;unique&nbsp;avec&nbsp;le&nbsp;couple&nbsp;module/action<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$sMenuId</span><span style="color: #007700">=</span><span style="color: #DD0000">'menu_'</span><span style="color: #007700">.</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getModule</span><span style="color: #007700">().</span><span style="color: #DD0000">'_'</span><span style="color: #007700">.</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAction</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a&nbsp;t&nbsp;il&nbsp;un&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tLink</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Accueil'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::accueil'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'News'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::news'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Présentation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::presentation'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Librairie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::librairie'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'L&nbsp;ORM'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::orm'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Tutoriaux'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::tutoriaux'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CommentKonFait&nbsp;?'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::faq'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Builder'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::builder'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink</span><span style="color: #007700">=</span><span style="color: #0000BB">$tLink</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="cachevar" name="cachevar"></a><br /><h2>G&eacute;rer le cache de variable</h2>Vous avez d&eacute;sormais la possibilit&eacute; de gerer un cache de variable.<br />Propos&eacute; &agrave; l&#039;origine pour vos requetes ORM, il permet:<br />- de gagner en performances<br />- de d&eacute;charger votre SGBD<br />note: vous avez toujours la possibilit&eacute; d&#039;indiquer une date de &quot;peremption&quot; pour ce cache<br /><br />Son utilisation:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sId</span><span style="color: #007700">=</span><span style="color: #DD0000">'articleFindAll'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a-t-il&nbsp;un&nbsp;cache&nbsp;pour&nbsp;cette&nbsp;variable&nbsp;?<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">)&nbsp;){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//si&nbsp;oui,&nbsp;on&nbsp;recupere&nbsp;le&nbsp;tableau&nbsp;d'objets&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//si&nbsp;non:&nbsp;on&nbsp;execute&nbsp;la&nbsp;requete&nbsp;dans&nbsp;l'ORM&nbsp;et&nbsp;on&nbsp;enregistre&nbsp;le&nbsp;tableau&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findMany</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sTable</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">,</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//en&nbsp;prenant&nbsp;en&nbsp;compte&nbsp;un&nbsp;temps&nbsp;de&nbsp;validité:<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">findLast</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$sId</span><span style="color: #007700">=</span><span style="color: #DD0000">'articleFindAll'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a-t-il&nbsp;un&nbsp;cache&nbsp;pour&nbsp;cette&nbsp;variable&nbsp;inferieur&nbsp;à&nbsp;60&nbsp;minutes&nbsp;?<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">,</span><span style="color: #0000BB">60</span><span style="color: #007700">)&nbsp;){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//si&nbsp;oui,&nbsp;on&nbsp;recupere&nbsp;le&nbsp;tableau&nbsp;d'objets&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//si&nbsp;non:&nbsp;on&nbsp;execute&nbsp;la&nbsp;requete&nbsp;dans&nbsp;l'ORM&nbsp;et&nbsp;on&nbsp;enregistre&nbsp;le&nbsp;tableau&nbsp;en&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findMany</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sTable</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;ORDER&nbsp;BY&nbsp;id&nbsp;DESC&nbsp;&nbsp;&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCacheVar</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #0000BB">$sId</span><span style="color: #007700">,</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Mais vous pouvez l&#039;utiliser pour mettre en cache n&#039;importe quel variable gourmande &agrave; construire ;)<br /><br /><a id="passerunevariabledelactionalavue" name="passerunevariabledelactionalavue"></a><br /><h2>Passer une variable de  l&#039;action &agrave; la vue</h2>Par exemple, passer l&#039;objet article de l&#039;action &agrave; la vue show<br />module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//on&nbsp;"assigne"&nbsp;la&nbsp;variable&nbsp;$article&nbsp;à&nbsp;la&nbsp;vue&nbsp;sous&nbsp;le&nbsp;nom&nbsp;"monArticle"<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$article</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Cot&eacute; vue<br />module/article/view/show.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="issetunevariabledelactionalavue" name="issetunevariabledelactionalavue"></a><br /><h2>V&eacute;rifier si une variable est assign&eacute;e &agrave; la vue</h2>Par exemple, v&eacute;rifier si une variable nous a &eacute;t&eacute; assign&eacute;<br />module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//on&nbsp;"assigne"&nbsp;la&nbsp;variable&nbsp;$article&nbsp;à&nbsp;la&nbsp;vue&nbsp;sous&nbsp;le&nbsp;nom&nbsp;"monArticle"<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$maCondition</span><span style="color: #007700">==</span><span style="color: #0000BB">true</span><span style="color: #007700">){}<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$article</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Cot&eacute; vue<br />module/article/view/show.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">)){<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">monArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="gererlapaginationdesonsite" name="gererlapaginationdesonsite"></a><br /><h2>G&eacute;rer la pagination de son site</h2>Dans votre fichier module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listPagination</span><span style="color: #007700">(){<br /><br /></span><span style="color: #FF8000">//d'abord&nbsp;on&nbsp;recupere&nbsp;notre&nbsp;liste&nbsp;d'articles<br /></span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">model_article</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//ensuite&nbsp;on&nbsp;instancie&nbsp;le&nbsp;module&nbsp;pagination&nbsp;(le&nbsp;repertoire&nbsp;module/pagination)<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">module_pagination</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setModuleAction</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listPagination'</span><span style="color: #007700">);</span><span style="color: #FF8000">//on&nbsp;lui&nbsp;indique&nbsp;notre&nbsp;couple&nbsp;module/action<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setParamPage</span><span style="color: #007700">(</span><span style="color: #DD0000">'page'</span><span style="color: #007700">);</span><span style="color: #FF8000">//le&nbsp;nom&nbsp;du&nbsp;parametre&nbsp;page&nbsp;a&nbsp;utiliser<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLimit</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPage</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'page'</span><span style="color: #007700">)&nbsp;);<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTab</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$tArticle&nbsp;</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//on&nbsp;lui&nbsp;passe&nbsp;le&nbsp;tableau&nbsp;d'article&nbsp;a&nbsp;paginer<br /><br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listPagination'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPageElement</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//on&nbsp;passe&nbsp;a&nbsp;la&nbsp;vue&nbsp;le&nbsp;tableau&nbsp;pagine&nbsp;d'articles&nbsp;a&nbsp;afficher<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListColumn</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oModulePagination</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//on&nbsp;passe&nbsp;a&nbsp;la&nbsp;vue&nbsp;la&nbsp;navigation&nbsp;de&nbsp;pagination<br /><br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br /><br />(...)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Dans votre vue module/article/view/listPagination.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">(...)<br /><br /></span><span style="color: #FF8000">//ajouter&nbsp;a&nbsp;la&nbsp;fin&nbsp;de&nbsp;votre&nbsp;vue&nbsp;pour&nbsp;avoir&nbsp;la&nbsp;navigation&nbsp;de&nbsp;pagination<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><a id="chargerunmoduleaunemplacementtemplate" name="chargerunmoduleaunemplacementtemplate"></a><br /><h2>Charger un module a un emplacement template</h2>Vous pouvez avoir besoin de charger un module a un endroit donn&eacute;e<br />Pour cela vous devez inclure ce module, par exemple le calendrier a &quot;emplacement&quot; par exemple &quot;calendrier&quot;<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'module::action'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oModuleCalendrier</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">module_calendrier</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$oModuleCalendrier</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sModuleAction</span><span style="color: #007700">=</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//indiquer&nbsp;le&nbsp;couple&nbsp;module::action&nbsp;de&nbsp;la&nbsp;page&nbsp;parente<br /><br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oViewCalendrier</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModuleCalendrier</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//la&nbsp;methode&nbsp;build()&nbsp;doit&nbsp;retourner&nbsp;un&nbsp;objet&nbsp;_view<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>et a partir de la, dans module/view/action.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oViewCalendrier</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />note: pour avoir le module calendrier, il faut g&eacute;n&eacute;rer &quot;avec exemples&quot;<br /><br /><a id="executeruntraitementpourlensembledunmodule" name="executeruntraitementpourlensembledunmodule"></a><br /><h2>Executer un traitement pour l&#039;ensemble d&#039;un module</h2>Pour cela, la methode before() a fait son apparition, cette methode est toujours execut&eacute;e a chaque appel d&#039;action (via l&#039;url) d&#039;un module<br />On l&#039;utilise lors de la generation de crud pour initier en permanence le menu<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//de&nbsp;cette&nbsp;facon,&nbsp;dans&nbsp;template1&nbsp;on&nbsp;affiche&nbsp;le&nbsp;menu&nbsp;avec&nbsp;un&nbsp;echo&nbsp;$this-&gt;load('menu')<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="ajouterunplugin" name="ajouterunplugin"></a><br /><h2>Ajouter un plugin</h2>Rien de plus simple, creer un fichier plugin_votrePlugin.php dans le repertoire plugin/<br />qui contiendra<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">Class&nbsp;</span><span style="color: #0000BB">plugin_votrePlugin</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//le&nbsp;contenu&nbsp;de&nbsp;votre&nbsp;plugin<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="appelerunplugin" name="appelerunplugin"></a><br /><h2>Appeler / Utiliser un plugin</h2>Pour appeler un plugin, par exemple le plugin plugin_form<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oForm</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_form</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="unexportexcelcsv" name="unexportexcelcsv"></a><br /><h2>Un export excel (csv pour etre exact)</h2>Dans votre fichier action par exemple module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">(...)<br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listeArticleCsv</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">model_article</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listeArticleCsv'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$this-&gt;oLayout&nbsp;ayant&nbsp;ete&nbsp;initialisée&nbsp;dans&nbsp;la&nbsp;methode&nbsp;before<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLayout</span><span style="color: #007700">(</span><span style="color: #DD0000">'download'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">=</span><span style="color: #DD0000">'fichier_article_list.csv'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">=</span><span style="color: #DD0000">'csv'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">exit;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Dans le layout layout/download.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cache-Control:public'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pragma:'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Expires:&nbsp;Mon,&nbsp;26&nbsp;Jul&nbsp;1997&nbsp;05:00:00&nbsp;GMT"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Disposition:&nbsp;attachment;&nbsp;filename=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Transfer-Encoding:binary'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;application/"</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">.</span><span style="color: #DD0000">";name=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">flush</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">)</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />Dans la vue  module/article/view/listeArticleCsv.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />TITRE</span><span style="color: #007700">;</span><span style="color: #0000BB">AUTEUR<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">):<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">';'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">auteur</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />endforeach;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="unexportexcelcsvutf8" name="unexportexcelcsvutf8"></a><br /><h2>Un export excel utf-8 (csv pour etre exact)</h2>Dans votre fichier action par exemple module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">(...)<br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listeArticleCsv</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">model_article</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listeArticleCsv'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$this-&gt;oLayout&nbsp;ayant&nbsp;ete&nbsp;initialisée&nbsp;dans&nbsp;la&nbsp;methode&nbsp;before<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLayout</span><span style="color: #007700">(</span><span style="color: #DD0000">'download'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">=</span><span style="color: #DD0000">'fichier_article_list.csv'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">=</span><span style="color: #DD0000">'csv'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">exit;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Dans le layout layout/download.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cache-Control:public'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pragma:'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Expires:&nbsp;Mon,&nbsp;26&nbsp;Jul&nbsp;1997&nbsp;05:00:00&nbsp;GMT"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Disposition:&nbsp;attachment;&nbsp;filename=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Transfer-Encoding:binary'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;application/"</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">.</span><span style="color: #DD0000">";name=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">flush</span><span style="color: #007700">();<br />echo</span><span style="color: #DD0000">"\xEF\xBB\xBF"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//Permet&nbsp;a&nbsp;Excel&nbsp;de&nbsp;reconnaitre&nbsp;que&nbsp;le&nbsp;fichier&nbsp;est&nbsp;en&nbsp;UTF-8<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">)</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />Dans la vue  module/article/view/listeArticleCsv.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />TITRE</span><span style="color: #007700">;</span><span style="color: #0000BB">AUTEUR<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">):<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">html_entity_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">';'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">html_entity_decode</span><span style="color: #007700">(</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">auteur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />endforeach;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br /><a id="getnommodule" name="getnommodule"></a><br /><h2>Recuperer le nom du module</h2>Ce framework utilise une variable contenant le couple module::action<br />Pour recuperer juste le nom du module<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getModule</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="getnomaction" name="getnomaction"></a><br /><h2>Recuperer le nom de l&#039;action</h2>Ce framework utilise une variable contenant le couple module::action<br />Pour recuperer juste le nom de l&#039;action<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAction</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="getnav" name="getnav"></a><br /><h2>Recuperer la variable de navigation</h2>Ce framework utilise une variable contenant le couple module::action<br />Pour recuperer la variable de navigation (article::list)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParamNav</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="getlink" name="getlink"></a><br /><h2>Faire un lien vers l&#039;action liste du module article</h2>Pour creer un lien vers un couple module / action<br />Ecrivez un<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//sans&nbsp;parametre<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink('article::liste');?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">libelle</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br /><br /></span><span style="color: #FF8000">//avec&nbsp;parametre&nbsp;(par&nbsp;exemple&nbsp;edition&nbsp;id&nbsp;2)<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink('article::edit',array('id'=&gt;2));?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">edition&nbsp;de&nbsp;l</span><span style="color: #DD0000">'article&nbsp;2&lt;/a&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />[UPDATE 27nov09]<br />Ajout possiblit&eacute; de generer un lien avec un tableau<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//avec&nbsp;parametre&nbsp;(par&nbsp;exemple&nbsp;edition&nbsp;id&nbsp;2)<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink(array('article::edit','id'=&gt;2));?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">edition&nbsp;de&nbsp;l</span><span style="color: #DD0000">'article&nbsp;2&lt;/a&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br /><br /><a id="paramlayout" name="paramlayout"></a><br /><h2>Comment passer un parametre au layout</h2>Aussi simplement qu&#039;avec le _view<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_show</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title</span><span style="color: #007700">=</span><span style="color: #DD0000">"Titre&nbsp;de&nbsp;l'article"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Et dans le layout, comme dans une vue<br />layout/template1.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title&nbsp;?&gt;</span>&lt;/title&gt;<br />&lt;/head&gt;<br />(...)<br />&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><a id="paramlayout" name="paramlayout"></a><br /><h2>Comment v&eacute;rifier qu&#039;un param&egrave;tre est bien assign&eacute; au layout</h2>Aussi simplement qu&#039;avec le _view<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_show</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">=</span><span style="color: #DD0000">"Titre&nbsp;de&nbsp;l'article"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Et dans le layout, comme dans une vue<br />layout/template1.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">body</span><span style="color: #007700">&gt;<br />&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">)):</span><span style="color: #0000BB">?&gt;</span>&lt;p&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test?&gt;</span>&lt;/p&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endif;</span><span style="color: #0000BB">?&gt;<br /></span>(...)<br />&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><a id="authenabled" name="authenabled"></a><br /><h2>Comment utiliser l&#039;authentificaiton</h2>Il existe plusieurs solutions pour gerer l&#039;authentification<br />Vous pouvez mettre:<br />1. Tout priv&eacute;<br />2. Tout public sauf certaines zones priv&eacute;es<br /><br />Vous pouvez g&eacute;rer l&#039;authentification globale avec le parametre [auth] enabled<br />dans conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">auth</span><span style="color: #007700">]<br />;</span><span style="color: #0000BB">note&nbsp;</span><span style="color: #007700">:&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">php5.2&nbsp;dans&nbsp;le&nbsp;php</span><span style="color: #007700">.</span><span style="color: #0000BB">ini<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">cookie_httponly</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_only_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br />enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />Vous pouvez gerer l&#039;authenfication cibl&eacute;e soit par module<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_exemple&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//ici&nbsp;on&nbsp;force&nbsp;l'authentification&nbsp;sur&nbsp;l'ensemble&nbsp;du&nbsp;module<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />ou par couple module/action<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_exemple&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//ici&nbsp;on&nbsp;force&nbsp;l'authentification&nbsp;sur&nbsp;le&nbsp;couple&nbsp;exemple::list<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//page&nbsp;privee<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note: lorsqu&#039;on utilise l&#039;authentification du mkframework il faut egalement parametrer la partie [auth]<br />dans conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">auth</span><span style="color: #007700">]<br />;</span><span style="color: #0000BB">note&nbsp;</span><span style="color: #007700">:&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">php5.2&nbsp;dans&nbsp;le&nbsp;php</span><span style="color: #007700">.</span><span style="color: #0000BB">ini<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">cookie_httponly</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_only_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br />enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_auth<br />module</span><span style="color: #007700">=</span><span style="color: #0000BB">auth</span><span style="color: #007700">::</span><span style="color: #0000BB">login<br />session</span><span style="color: #007700">.</span><span style="color: #0000BB">timeout</span><span style="color: #007700">.</span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br />session</span><span style="color: #007700">.</span><span style="color: #0000BB">timeout</span><span style="color: #007700">.</span><span style="color: #0000BB">lifetime</span><span style="color: #007700">=(</span><span style="color: #0000BB">60</span><span style="color: #007700">*</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Comme vous pouvez le voir ici est defini le couple a appeler pour l&#039;authentification, ici auth::login (variable module)<br />La classe &agrave; utiliser pour verifier l&#039;authentification (variable class)<br />Le framework appelera la methode isConnected() de la classe (par defaut plugin_auth)<br /><br /><br /><br /><a id="redirect" name="redirect"></a><br /><h2>Comment faire une redirection</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #DD0000">'module::action'</span><span style="color: #007700">[,</span><span style="color: #0000BB">$tParam</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Par exemple pour rediriger vers la page d&#039;affichage de l&#039;article 2<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="i18n" name="i18n"></a><br /><h2>Comment faire un site multi-lingue</h2>Faire un site multi lingue n&eacute;cessite trois choses:<br />1. parametrer un fichier d&#039;association par langue<br />2. utiliser la fonction ad&eacute;quate pour afficher le mot dans la bonne langue<br />3. permettre de switcher, et garder la langue s&eacute;lection&eacute;e<br /><br />Pour la premi&egrave;re partie, vous pouvez vous rendre dans le repertoire data/i18n, vous y trouverez un fichier par langue<br />Fichier data/i18n/en.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'tLangue'</span><span style="color: #007700">,array(<br /><br /></span><span style="color: #DD0000">'BONJOUR'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Hello'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'BIENVENUE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Welcome'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'CHOISISSEZ_LANGUE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Choose&nbsp;your&nbsp;language'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'DU_TEXTE_EN_FRANCAIS'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Some&nbsp;text&nbsp;in&nbsp;english'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'La_date'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'The&nbsp;date'</span><span style="color: #007700">,<br /><br />))</span><span style="color: #0000BB">?&gt;</span>&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Comme vous pouvez le voir chaque fichier d&eacute;finit un tableau associatif : un tag/mot et sa traduction<br /><br />Pour la deuxi&egrave;me partie il faut utiliser la m&eacute;thode static get de la classe plugin_i18n<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">plugin_i18n</span><span style="color: #007700">::</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'BONJOUR'</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Faites appel a cette m&eacute;thode pour chaque titre, bouton... &agrave; afficher.<br /><br />Enfin pour la derni&egrave;re partie, vous pouvez au choix utiliser des images de drapeaux, des liens ou autre pour chaque langue.<br />Dans votre layout, ou vos vues un petit lien<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"?lang=fr"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">FR</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Et dans vos modules pensez &agrave; intercepter la valeur pour charger le bon fichier<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">startSession</span><span style="color: #007700">();<br />if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">)&nbsp;){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">);<br />}<br />if(!isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">])){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'language.default'</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #0000BB">plugin_i18n</span><span style="color: #007700">::</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br /><a id="log" name="log"></a><br /><h2>Loguer dans l&#039;application</h2>Le framework permet de loguer selon plusieurs niveaux de criticit&eacute;<br />1. erreur<br />2. warning<br />3. message applicatif<br />4. information<br /><br />Ceci en activant la gestion de log dans le fichier conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">log</span><span style="color: #007700">]<br />class=</span><span style="color: #0000BB">plugin_log<br />error</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />warning</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />application</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />information</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />En activant les logs, vous pourrez lire dans le repertoire data/log/ les logs du frameworks<br />Mais ce n&#039;est pas tout, vous pouvez vous aussi utiliser ce logueur pour votre besoin<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">info</span><span style="color: #007700">(</span><span style="color: #DD0000">'Un&nbsp;message&nbsp;d&nbsp;information'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">warning</span><span style="color: #007700">(</span><span style="color: #DD0000">'Un&nbsp;message&nbsp;de&nbsp;warning'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #DD0000">'Un&nbsp;message&nbsp;d&nbsp;erreur'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #DD0000">'Un&nbsp;message&nbsp;de&nbsp;votre&nbsp;application'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>En utilisant uniquement la methode static log() pour vos messages, vous aurez la possibilit&eacute; de filtrer uniquement vos messages applicatif.<br />Utiliser la flexibilit&eacute; du parametrage coupl&eacute; aux diff&eacute;rents appel au module du log<br /><br />Exemple de g&eacute;n&eacute;ration:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">module&nbsp;a&nbsp;appeler&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::list]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">before</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">template1</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">choix&nbsp;de&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">layout</span><span style="color: #007700">/</span><span style="color: #0000BB">template1</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">ajout&nbsp;appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">::</span><span style="color: #0000BB">index</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">a&nbsp;la&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">::</span><span style="color: #0000BB">index</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tLink</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">_list</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">sql&nbsp;select</span><span style="color: #007700">:<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::list]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">ajout&nbsp;appel&nbsp;vue&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">article</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/list.</span><span style="color: #0000BB">php</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">a&nbsp;la&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">main</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">after</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">layout</span><span style="color: #007700">/</span><span style="color: #0000BB">template1</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">chargement</span><span style="color: #007700">/</span><span style="color: #0000BB">affichage&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">menu</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">chargement</span><span style="color: #007700">/</span><span style="color: #0000BB">affichage&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">main</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">article</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/list.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="urlrewriting" name="urlrewriting"></a><br /><h2>Utiliser l&#039;url rewriting</h2>Pour utiliser l&#039;url rewriting, il faut:<br />1. activer le module rewrite sur votre serveur apache<br />2. parametrer votre virtualhost pour autoriser l&#039;url rewriting / ou creer un fichier .htaccess<br />3. activer dans votre fichier conf/site.ini.php la variable enabled de la section [urlrewriting]<br />4. configurer vos r&egrave;gles dans le fichier conf/routing.php<br /><br />Pour le point 2<br />Soit vous d&eacute;finissez dans le virtualhost de votre site<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">mkframework</span><span style="color: #007700">/</span><span style="color: #0000BB">data</span><span style="color: #007700">/</span><span style="color: #0000BB">genere</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">mkframework</span><span style="color: #007700">/</span><span style="color: #0000BB">data</span><span style="color: #007700">/</span><span style="color: #0000BB">genere</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteEngine&nbsp;On<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">s&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">l&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">d<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;-&nbsp;[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Soit vous cr&eacute;er un fichier .htaccess dans le repertoire public/ de votre projet avec le contenu suivant:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />Options&nbsp;</span><span style="color: #007700">+</span><span style="color: #0000BB">FollowSymlinks<br /><br />RewriteEngine&nbsp;On<br />RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">s&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">l&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">d<br />RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;-&nbsp;[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Pour nginx:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /><br />server&nbsp;</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;listen&nbsp;80&nbsp;default_server</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;listen&nbsp;</span><span style="color: #007700">[::]:</span><span style="color: #0000BB">80&nbsp;default_server&nbsp;ipv6only</span><span style="color: #007700">=</span><span style="color: #0000BB">on</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;root&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">votreApplication</span><span style="color: #007700">/public;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;index&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">html&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">htm</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Make&nbsp;site&nbsp;accessible&nbsp;from&nbsp;http://www.projet.com/<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;server_name&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;location&nbsp;</span><span style="color: #007700">/&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;First&nbsp;attempt&nbsp;to&nbsp;serve&nbsp;request&nbsp;as&nbsp;file,&nbsp;then<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;as&nbsp;directory,&nbsp;then&nbsp;fall&nbsp;back&nbsp;to&nbsp;displaying&nbsp;a&nbsp;404.<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try_files&nbsp;$uri&nbsp;$uri</span><span style="color: #007700">/&nbsp;@</span><span style="color: #0000BB">rewriteapp</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;Uncomment&nbsp;to&nbsp;enable&nbsp;naxsi&nbsp;on&nbsp;this&nbsp;location<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;include&nbsp;/etc/nginx/naxsi.rules<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;location&nbsp;</span><span style="color: #007700">@</span><span style="color: #0000BB">rewriteapp&nbsp;</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;rewrite&nbsp;all&nbsp;to&nbsp;index.php<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;</span><span style="color: #007700">^(.*)$&nbsp;/</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;last</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;location&nbsp;</span><span style="color: #007700">~&nbsp;\.</span><span style="color: #0000BB">php</span><span style="color: #007700">$&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_split_path_info&nbsp;</span><span style="color: #007700">^(.+\.</span><span style="color: #0000BB">php</span><span style="color: #007700">)(/.+)$;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;NOTE:&nbsp;You&nbsp;should&nbsp;have&nbsp;"cgi.fix_pathinfo&nbsp;=&nbsp;0;"&nbsp;in&nbsp;php.ini<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;With&nbsp;php5-cgi&nbsp;alone:<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;127.0.0.1:9000;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;With&nbsp;php5-fpm:<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_pass&nbsp;unix</span><span style="color: #007700">:/var/</span><span style="color: #0000BB">run</span><span style="color: #007700">/</span><span style="color: #0000BB">php5</span><span style="color: #007700">-</span><span style="color: #0000BB">fpm</span><span style="color: #007700">.</span><span style="color: #0000BB">sock</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fastcgi_index&nbsp;index</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">include&nbsp;</span><span style="color: #0000BB">fastcgi_params</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;deny&nbsp;access&nbsp;to&nbsp;.htaccess&nbsp;files,&nbsp;if&nbsp;Apache's&nbsp;document&nbsp;root<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;concurs&nbsp;with&nbsp;nginx's&nbsp;one<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#location&nbsp;~&nbsp;/\.ht&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#&nbsp;&nbsp;&nbsp;&nbsp;deny&nbsp;all;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">#}<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Pour le point 3, dans votre fichier conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">urlrewriting</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_routing<br />conf</span><span style="color: #007700">=</span><span style="color: #0000BB">conf</span><span style="color: #007700">/</span><span style="color: #0000BB">routing</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div>Passer la variable enabled &agrave; 1<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">urlrewriting</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_routing<br />conf</span><span style="color: #007700">=</span><span style="color: #0000BB">conf</span><span style="color: #007700">/</span><span style="color: #0000BB">routing</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />Ensuite pour le point 4 &eacute;diter le fichier conf/routing.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$tab</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articles.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articleDetail_:id:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articleEdit_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::edit'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'taches'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'taches_archives'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::archivelist'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tacheDetail_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tacheEdit_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::edit'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//page&nbsp;404&nbsp;(page&nbsp;non&nbsp;trouve)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'404'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Vous y trouvez un exemple de param&eacute;trage<br />Ce qu&#039;il faut comprendre: &agrave; l&#039;appel d&#039;une page, le framework recherche dans ce tableau une page correspondant &agrave; une des cl&eacute;s.<br />Par exemple, vous avez une page articles.html qui doit pointer vers le module article, l&#039;action list<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articles.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Si vous avez une partie variable, par exemple l&#039;id de l&#039;article<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'article_:id:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: si la r&egrave;gle n&#039;est pas trouv&eacute;, on redirige sur la page param&eacute;tr&eacute; en 404<br /><br />On utilise les variables &quot;nav&quot; qui contient le couple module/action, et &quot;tParam&quot; (optionnel) dans le cas ou il y a une partie variable<br />Par exemple si on a besoin de la variable &quot;CAT_PKEY&quot; dans une page de categorie (index.php?:nav=categorie::list&amp;CAT_PKEY=2)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'categorie_:CAT_PKEY:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'categorie::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'CAT_PKEY'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Dans cette exemple la lien index.php?:nav=categorie::list&amp;CAT_PKEY=2 devient categorie_2.html<br /><br />Le fait de passer la variable urlrewriting.enabled de 0 &agrave; 1 permet de switcher entre le mode urlrewriting et le mode normal, aucune autre modification de vos liens n&#039;est n&eacute;cessaire (la methode _root::getLink se charge de tout)<br /><br /><br /><a id="parametremodulepardefaut" name="parametremodulepardefaut"></a><br /><h2>Param&eacute;trer le module par d&eacute;faut de votre application</h2>Lorsque vous arrivez sur votre site, par d&eacute;faut vous tombez sur celui param&eacute;tr&eacute; par d&eacute;faut.<br />Editez le fichier conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">navigation</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">scriptname</span><span style="color: #007700">=</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">var=:</span><span style="color: #0000BB">nav<br />module</span><span style="color: #007700">.default=</span><span style="color: #0000BB">article<br />action</span><span style="color: #007700">.default=list<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Vous voyez la variable &quot;module.default&quot; indiquant le module par d&eacute;faut, ainsi que &quot;action.default&quot; pour l&#039;action par d&eacute;faut.<br />Ainsi avec cette configuration, le framework appelera le module module_article et sa methode &quot;_list&quot;.<br /><br /><a id="filegetcontent" name="filegetcontent"></a><br /><h2>Lire un fichier</h2>Utilisez la classe _file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/fichier.txt'</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getContent</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="filesetcontent" name="filesetcontent"></a><br /><h2>Cr&eacute;er/&eacute;crire dans un fichier</h2>Utilisez la classe _file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/fichier.txt'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setContent</span><span style="color: #007700">(</span><span style="color: #DD0000">'mon&nbsp;texte'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="dirsave" name="dirsave"></a><br /><h2>Cr&eacute;er un r&eacute;pertoire</h2>Utilisez la classe _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/repertoire'</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="dirlist" name="dirlist"></a><br /><h2>Lister les fichiers d&#039;un r&eacute;pertoire</h2>Utilisez la classe _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/repertoire'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tFile</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListFile</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: cette m&eacute;thode retourne la liste des fichiers sous forme d&#039;objet _file ;)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$tFile&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAdresse</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="sdirlist" name="sdirlist"></a><br /><h2>Lister les sous-r&eacute;pertoires d&#039;un r&eacute;pertoire</h2>Utilisez la classe _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/repertoire'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tDir</span><span style="color: #007700">=</span><span style="color: #0000BB">$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListDir</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: cette m&eacute;thode retourne la liste des r&eacute;pertoires sous forme d&#039;objet _dir ;)<br /><br /><a id="plugin_mail" name="plugin_mail"></a><br /><h2>Envoyer un email</h2>Utilisez la classe plugin_mail<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$sFromLibelle</span><span style="color: #007700">=</span><span style="color: #DD0000">'Moi'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sEmailFrom</span><span style="color: #007700">=</span><span style="color: #DD0000">'moi@email.com'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$sEmailDestinataire</span><span style="color: #007700">=</span><span style="color: #DD0000">'destinataire@domaine.com'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$sSubject</span><span style="color: #007700">=</span><span style="color: #DD0000">'Sujet&nbsp;de&nbsp;l&nbsp;email'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$sBody</span><span style="color: #007700">=</span><span style="color: #DD0000">'Texte&nbsp;de&nbsp;l&nbsp;email'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_mail</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setFrom</span><span style="color: #007700">(</span><span style="color: #0000BB">$sFromLibelle</span><span style="color: #007700">,</span><span style="color: #0000BB">$sEmailFrom</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addTo</span><span style="color: #007700">(</span><span style="color: #0000BB">$sEmailDestinataire</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setSubject</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sSubject&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setBodyHtml</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sBody&nbsp;</span><span style="color: #007700">);<br /><br /><br /></span><span style="color: #0000BB">$oPluginMail</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">send</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="jqueryinnerhtml" name="jqueryinnerhtml"></a><br /><h2>JQuery, faire un lien innerHtml</h2>Vous voulez mettre a jour un element html avec le rendu d&#039;une page.<br />Avec le plugin plugin_jquery vous pouvez creer des fonctions utilisant jquery<br />Par exemple on peut avoir une liste d&#039;article dont on veut afficher le detail<br />D&#039;abord on cr&eacute;&eacute; la fonction ici showArticle qui prendra un argument<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'showArticle'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'param_id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addLinkUpdateElement</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::showajax'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'$param_id'</span><span style="color: #007700">))&nbsp;,</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModifyElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'show'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Code genere<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;<br />function&nbsp;</span><span style="color: #0000BB">showArticle</span><span style="color: #007700">(</span><span style="color: #0000BB">param_id</span><span style="color: #007700">){<br />$.</span><span style="color: #0000BB">ajax</span><span style="color: #007700">({<br /></span><span style="color: #0000BB">url</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'index.php?:nav=article::showajax&amp;id='</span><span style="color: #007700">+</span><span style="color: #0000BB">param_id</span><span style="color: #007700">+</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">success</span><span style="color: #007700">:&nbsp;function(</span><span style="color: #0000BB">response</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #FF8000">//&nbsp;update&nbsp;status&nbsp;element<br /></span><span style="color: #007700">$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">html</span><span style="color: #007700">(</span><span style="color: #0000BB">response</span><span style="color: #007700">);<br />}<br />});<br />$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">show</span><span style="color: #007700">();}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Ensuite on peut l&#039;appeler facilement dans la liste d&#039;article<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$tArticle&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">):</span><span style="color: #0000BB">?&gt;<br /></span>&lt;a&nbsp;href="#"&nbsp;onclick="showArticle(<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id?&gt;</span>)"&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre?&gt;</span>&lt;/a&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endforeach;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Sans oublier l&#039;element html qui sera mis &agrave; jour<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">div&nbsp;id</span><span style="color: #007700">=</span><span style="color: #DD0000">"rendu"</span><span style="color: #007700">&gt;&lt;/</span><span style="color: #0000BB">div</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note: pour utiliser la librairie jQuery il vous faut inclure celle-ci dans votre layout<br />en ajoutant (en adaptant le numero de version)<br />Librairie a recuperer sur le site de jQuery http://docs.jquery.com/Downloading_jQuery#Current_Release<br />ou lier la derniere version stable<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><a id="jquerymodifyhtml" name="jquerymodifyhtml"></a><br /><h2>JQuery, modifier un element html</h2>Vous voulez modifier un element html via la librairie jQuery<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'afficher'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModifyElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'show'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Code g&eacute;n&eacute;r&eacute;<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;function&nbsp;</span><span style="color: #0000BB">affiche</span><span style="color: #007700">(){<br />$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">show</span><span style="color: #007700">();}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />note: pour utiliser la librairie jQuery il vous faut inclure celle-ci dans votre layout<br />en ajoutant (en adaptant le numero de version)<br />Librairie a recuperer sur le site de jQuery http://docs.jquery.com/Downloading_jQuery#Current_Release<br />ou lier la derniere version stable<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><br /><a id="jquerycallback" name="jquerycallback"></a><br /><h2>JQuery, faire un appel ajax avec callback</h2>Vous voulez faire un appel ajax et envoyer la r&eacute;ponse &agrave; une de vos fonction javascript<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'showArticle'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'param_id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addLinkCallFunction</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::showajax'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'$param_id'</span><span style="color: #007700">))&nbsp;,</span><span style="color: #DD0000">'interprete'</span><span style="color: #007700">)&nbsp;;<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Code genere<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;function&nbsp;</span><span style="color: #0000BB">showArticle</span><span style="color: #007700">(</span><span style="color: #0000BB">param_id</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">$.</span><span style="color: #0000BB">ajax</span><span style="color: #007700">({<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;url</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'index.php?:nav=article::showajax&amp;id='</span><span style="color: #007700">+</span><span style="color: #0000BB">param_id</span><span style="color: #007700">+</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;success</span><span style="color: #007700">:&nbsp;function(</span><span style="color: #0000BB">response</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;call&nbsp;function<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;interprete</span><span style="color: #007700">(</span><span style="color: #0000BB">response</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">});<br />}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>N&#039;oubliez pas d&#039;&eacute;crire votre fonction &quot;interprete&quot; qui recevra en parametre le retour ajax.<br /><br />note: pour utiliser la librairie jQuery il vous faut inclure celle-ci dans votre layout<br />en ajoutant (en adaptant le numero de version)<br />Librairie a recuperer sur le site de jQuery http://docs.jquery.com/Downloading_jQuery#Current_Release<br />ou lier la derniere version stable<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><a id="debug" name="debug"></a><br /><h2>Utiliser la barre de debug</h2>En mode &quot;dev&quot;, la barre est charg&eacute;e en bas de l&#039;&eacute;cran et permet d&#039;afficher les variables $_GET, $_POST, $_SERVER, $_SESSION<br />Ainsi que les variables de configurations (+ profils de connexions )<br /><img src="data/img/plugin_debug.png" /><br /><br />Vous pouvez &eacute;galement utiliser l&#039;espion dans votre code ainsi<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />plugin_debug</span><span style="color: #007700">::</span><span style="color: #0000BB">addSpy</span><span style="color: #007700">(</span><span style="color: #DD0000">'votre&nbsp;commentaire'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$oMaVariable</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Vous verrez dans la barre un bouton &quot;Spy variables&quot; pour les afficher<br /><br />Vous pouvez &eacute;galement utiliser des chronos dans votre code ainsi<br />Par exemple pour chronom&eacute;trer le temps d&#039;une requ&ecirc;te<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;plugin_debug</span><span style="color: #007700">::</span><span style="color: #0000BB">addChrono</span><span style="color: #007700">(</span><span style="color: #DD0000">'debut&nbsp;requte&nbsp;A'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findMany</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;article'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;plugin_debug</span><span style="color: #007700">::</span><span style="color: #0000BB">addChrono</span><span style="color: #007700">(</span><span style="color: #DD0000">'fin&nbsp;requete&nbsp;A'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Vous verrez dans la barre un bouton &quot;times&quot; pour les afficher<br /><br />Note: si le plugin n&#039;est pas disponible sur votre projet<br />1. t&eacute;l&eacute;charger le plugin plugin_debug (page t&eacute;l&eacute;charger) dans ler r&eacute;pertoire plugin/ de votre application<br />2. ajouter dans votre fichier public/index.php en amont:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$iMicrotime</span><span style="color: #007700">=</span><span style="color: #0000BB">microtime</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>et en fin de fichier<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'site.mode'</span><span style="color: #007700">)==</span><span style="color: #DD0000">'dev'</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oDebug</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_debug</span><span style="color: #007700">(</span><span style="color: #0000BB">$iMicrotime</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oDebug</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">display</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="chart" name="chart"></a><br /><h2>Cr&eacute;er des graphiques (HTML5)</h2>Vous pouvez g&eacute;n&eacute;rer avec le plugin plugin_chart g&eacute;n&eacute;rer des graphiques en utilisant les canvas HTML5<br />Pour cela:<br />Cot&eacute; module<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_mapage</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//utiliser&nbsp;le&nbsp;layout&nbsp;"html5"&nbsp;plutot&nbsp;que&nbsp;"template1"<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'html5'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//créer&nbsp;votre&nbsp;vue<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'votreModule::votreVue'</span><span style="color: #007700">):<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Histo<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------------------------------<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------histo<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_chart</span><span style="color: #007700">(</span><span style="color: #DD0000">'HISTO'</span><span style="color: #007700">,</span><span style="color: #0000BB">400</span><span style="color: #007700">,</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTextSizeLegend</span><span style="color: #007700">(</span><span style="color: #DD0000">'12px&nbsp;arial'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setData</span><span style="color: #007700">(</span><span style="color: #0000BB">$tData</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMarginLeft</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStepY</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setGridY</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">,</span><span style="color: #DD0000">'#444'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//coordonnees&nbsp;de&nbsp;la&nbsp;legende<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCoordLegend</span><span style="color: #007700">(</span><span style="color: #0000BB">220</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartHisto</span><span style="color: #007700">=</span><span style="color: #0000BB">$oChartHisto</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Cot&eacute; vue<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartHisto</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><img src="data/img/chartHisto.png" /><br /><br />Camembert<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------------------------------<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------pie<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tData</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">array(&nbsp;</span><span style="color: #DD0000">'bois'&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">120</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">array(&nbsp;</span><span style="color: #DD0000">'fer'&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">15</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">array(&nbsp;</span><span style="color: #DD0000">'or'&nbsp;</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">65</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartPie</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_chart</span><span style="color: #007700">(</span><span style="color: #DD0000">'PIE'</span><span style="color: #007700">,</span><span style="color: #0000BB">400</span><span style="color: #007700">,</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartPie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTextSizeLegend</span><span style="color: #007700">(</span><span style="color: #DD0000">'12px&nbsp;arial'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartPie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setData</span><span style="color: #007700">(</span><span style="color: #0000BB">$tData</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//coordonnees&nbsp;de&nbsp;la&nbsp;legende<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartPie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCoordLegend</span><span style="color: #007700">(</span><span style="color: #0000BB">220</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartPie</span><span style="color: #007700">=</span><span style="color: #0000BB">$oChartPie</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartPie</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><img src="data/img/chartPie.png" /><br /><br />Lines<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------------------------------<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------lines<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_chart</span><span style="color: #007700">(</span><span style="color: #DD0000">'LINES'</span><span style="color: #007700">,</span><span style="color: #0000BB">400</span><span style="color: #007700">,</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTextSizeLegend</span><span style="color: #007700">(</span><span style="color: #DD0000">'12px&nbsp;arial'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMarginLeft</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPaddingX</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPaddingY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//coordonnees&nbsp;de&nbsp;la&nbsp;legende<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCoordLegend</span><span style="color: #007700">(</span><span style="color: #0000BB">220</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStepX</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStepY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$oChartLine-&gt;addMarkerY(100,'#444');<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setGridY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">,</span><span style="color: #DD0000">'#444'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addGroup</span><span style="color: #007700">(</span><span style="color: #DD0000">'or'</span><span style="color: #007700">,</span><span style="color: #DD0000">'green'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2009</span><span style="color: #007700">,</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2011</span><span style="color: #007700">,</span><span style="color: #0000BB">110</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2014</span><span style="color: #007700">,</span><span style="color: #0000BB">170</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addGroup</span><span style="color: #007700">(</span><span style="color: #DD0000">'bois'</span><span style="color: #007700">,</span><span style="color: #DD0000">'blue'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2010</span><span style="color: #007700">,</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2011</span><span style="color: #007700">,</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2013</span><span style="color: #007700">,</span><span style="color: #0000BB">170</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartLine</span><span style="color: #007700">=</span><span style="color: #0000BB">$oChartLine</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartLine</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><img src="data/img/chartLine.png" /><br /><br /><br />Histogramme<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------------------------------<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//--------bar<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_chart</span><span style="color: #007700">(</span><span style="color: #DD0000">'BAR'</span><span style="color: #007700">,</span><span style="color: #0000BB">400</span><span style="color: #007700">,</span><span style="color: #0000BB">200</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTextSizeLegend</span><span style="color: #007700">(</span><span style="color: #DD0000">'12px&nbsp;arial'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMarginLeft</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPaddingX</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPaddingY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//coordonnees&nbsp;de&nbsp;la&nbsp;legende<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setCoordLegend</span><span style="color: #007700">(</span><span style="color: #0000BB">220</span><span style="color: #007700">,</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStepX</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStepY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$oChartLine-&gt;addMarkerY(100,'#444');<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setGridY</span><span style="color: #007700">(</span><span style="color: #0000BB">20</span><span style="color: #007700">,</span><span style="color: #DD0000">'#444'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addGroup</span><span style="color: #007700">(</span><span style="color: #DD0000">'or'</span><span style="color: #007700">,</span><span style="color: #DD0000">'green'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2010</span><span style="color: #007700">,</span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2012</span><span style="color: #007700">,</span><span style="color: #0000BB">110</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2014</span><span style="color: #007700">,</span><span style="color: #0000BB">90</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2016</span><span style="color: #007700">,</span><span style="color: #0000BB">170</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addGroup</span><span style="color: #007700">(</span><span style="color: #DD0000">'bois'</span><span style="color: #007700">,</span><span style="color: #DD0000">'blue'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2010</span><span style="color: #007700">,</span><span style="color: #0000BB">90</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2012</span><span style="color: #007700">,</span><span style="color: #0000BB">120</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2014</span><span style="color: #007700">,</span><span style="color: #0000BB">80</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2016</span><span style="color: #007700">,</span><span style="color: #0000BB">170</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addGroup</span><span style="color: #007700">(</span><span style="color: #DD0000">'fer'</span><span style="color: #007700">,</span><span style="color: #DD0000">'red'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2010</span><span style="color: #007700">,</span><span style="color: #0000BB">110</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2012</span><span style="color: #007700">,</span><span style="color: #0000BB">120</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2014</span><span style="color: #007700">,</span><span style="color: #0000BB">70</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addPoint</span><span style="color: #007700">(</span><span style="color: #0000BB">2016</span><span style="color: #007700">,</span><span style="color: #0000BB">150</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//affichage&nbsp;de&nbsp;la&nbsp;page<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oChartBar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><img src="data/img/chartBar.png" /><br /><br /><a id="plugin_date" name="plugin_date"></a><br /><h2>Manipuler des dates</h2>Un plugin est &agrave; votre disposition pour manipuler des dates<br />Cr&eacute;ation de la date d&#039;aujourd&#039;hui<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDate</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_date</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">));<br />print&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Cr&eacute;ation d&#039;un objet date par rapport &agrave; une date fournie<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDate</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_date</span><span style="color: #007700">(</span><span style="color: #DD0000">'2013-12-25'</span><span style="color: #007700">,</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: les formats pris en charge en entr&eacute;e sont : Y-m-d, d-m-Y, d/m/Y, Y/m/d, m-d-Y, y-m-d<br /><br />Ajouter une journ&eacute;e, mois ou ann&eacute;e<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDate</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_date</span><span style="color: #007700">(</span><span style="color: #DD0000">'2013-01-01'</span><span style="color: #007700">,</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//ajout&nbsp;d'un&nbsp;jour<br /></span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addDay</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//ajout&nbsp;d'un&nbsp;mois<br /></span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addMonth</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//ajout&nbsp;d'une&nbsp;année<br /></span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addYer</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Note: la m&eacute;thode toString utlise la fonction date() de php pour afficher celle-ci, plus d&#039;informations sur les param&egrave;tres autoris&eacute;s: https://php.net/manual/fr/function.date.php<br /><br /><br /><a id="plugin_form" name="plugin_form"></a><br /><h2>Utiliser le plugin plugin_form</h2><h3>Editer un formulaire</h3>Un nouveau plugin permet de simplifier la cr&eacute;ation d&#039;un formulaire<br />Lorsque vous faites un formulaire d&#039;&eacute;dition d&#039;article par exemple<br />Cot&eacute; module<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_edit</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tMessage</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">processSave</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">model_Article</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findById</span><span style="color: #007700">(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_Auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSelect</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::edit'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">$tAuteur</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oPluginXsrf</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xsrf</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">token</span><span style="color: #007700">=</span><span style="color: #0000BB">$oPluginXsrf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getToken</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Cot&eacute; vue<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oForm</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_form</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oArticle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tMessage</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;table&gt;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Titre&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputText</span><span style="color: #007700">(</span><span style="color: #DD0000">'titre'</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Resume&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputText</span><span style="color: #007700">(</span><span style="color: #DD0000">'resume'</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Auteur&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSelect</span><span style="color: #007700">(</span><span style="color: #DD0000">'auteur_id'</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tAuteur</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&lt;/table&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getToken</span><span style="color: #007700">(</span><span style="color: #DD0000">'token'</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">token</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;p&gt;&lt;input&nbsp;type="submit"&nbsp;value="Valider"/&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Plus d&#039;informations ici: <a href="doxygen/classplugin__form.html">documentation doxygen </a><br /><br /><h3>D&eacute;finir une valeur par d&eacute;faut</h3><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_new</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tMessage</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">processSave</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oArticle</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">row_Article</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;definit&nbsp;un&nbsp;titre&nbsp;par&nbsp;defaut<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">=</span><span style="color: #DD0000">'titre&nbsp;par&nbsp;defaut'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//foonctionne&nbsp;aussi&nbsp;pour&nbsp;les&nbsp;menus&nbsp;deroulant<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">auteur_id</span><span style="color: #007700">=</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_Auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getSelect</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::edit'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">$tAuteur</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oPluginXsrf</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xsrf</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">token</span><span style="color: #007700">=</span><span style="color: #0000BB">$oPluginXsrf</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getToken</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Cot&eacute; vue<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oForm</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_form</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oArticle</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setMessage</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tMessage</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;table&gt;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Titre&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputText</span><span style="color: #007700">(</span><span style="color: #DD0000">'titre'</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Resume&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getInputText</span><span style="color: #007700">(</span><span style="color: #DD0000">'resume'</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Auteur&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getSelect</span><span style="color: #007700">(</span><span style="color: #DD0000">'auteur_id'</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tAuteur</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;</span>&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;<br />&lt;/table&gt;<br /><br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oForm</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getToken</span><span style="color: #007700">(</span><span style="color: #DD0000">'token'</span><span style="color: #007700">,</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">token</span><span style="color: #007700">);</span><span style="color: #0000BB">?&gt;<br /></span><br />&lt;p&gt;&lt;input&nbsp;type="submit"&nbsp;value="Valider"/&gt;&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Plus d&#039;informations ici: <a href="doxygen/classplugin__form.html">documentation doxygen </a><br /><br /><a id="plugin_wsdl" name="plugin_wsdl"></a><br /><h2>Comment cr&eacute;&eacute;r un webservice</h2>Un nouveau plugin permet de g&eacute;n&eacute;rer le wsdl pour votre webservice<br />Tout d&#039;abord, cr&eacute;&eacute;er un fichier &agrave; la racine du r&eacute;pertoire public/ par exemple webservice.php<br />Avec le code suivant:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">':nav'</span><span style="color: #007700">]=</span><span style="color: #DD0000">'webservice::index'</span><span style="color: #007700">;<br />include(</span><span style="color: #DD0000">'index.php'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Cr&eacute;er ensuite un module &quot;webservice&quot;: cr&eacute;er un repertoire module/webservice/<br />Un fichier main.php<br />Ci dessous l&#039;exemple du code utilis&eacute; pour le projet mkdraw<br />Le webservice ici permet &agrave; distance de mettre &agrave; jour un sch&eacute;ma.<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_webservice&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_index</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ini_set</span><span style="color: #007700">(</span><span style="color: #DD0000">"soap.wsdl_cache_enabled"</span><span style="color: #007700">,</span><span style="color: #DD0000">"0"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//creation&nbsp;du&nbsp;plugin&nbsp;wsdl<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_wsdl</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;indique&nbsp;le&nbsp;nom&nbsp;du&nbsp;webservice<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setName</span><span style="color: #007700">(</span><span style="color: #DD0000">'mkdraw'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;indique&nbsp;l'url&nbsp;du&nbsp;webservice<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setUrl</span><span style="color: #007700">(</span><span style="color: #DD0000">'http://localhost/mkframework/data/genere/mkdraw/public/webservice.php'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;indique&nbsp;chaque&nbsp;methode&nbsp;disponible<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addFunction</span><span style="color: #007700">(</span><span style="color: #DD0000">'setContent'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//ainsi&nbsp;que&nbsp;ses&nbsp;parametres<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addParameter</span><span style="color: #007700">(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,</span><span style="color: #DD0000">'int'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addParameter</span><span style="color: #007700">(</span><span style="color: #DD0000">'tObject'</span><span style="color: #007700">,</span><span style="color: #DD0000">'string'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addParameter</span><span style="color: #007700">(</span><span style="color: #DD0000">'tMenuLayerObject'</span><span style="color: #007700">,</span><span style="color: #DD0000">'string'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//et&nbsp;ses&nbsp;eventuels&nbsp;retours<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addReturn</span><span style="color: #007700">(</span><span style="color: #DD0000">'return'</span><span style="color: #007700">,</span><span style="color: #DD0000">'string'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addReturn</span><span style="color: #007700">(</span><span style="color: #DD0000">'ok'</span><span style="color: #007700">,</span><span style="color: #DD0000">'int'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$_GET</span><span style="color: #007700">[</span><span style="color: #DD0000">'WSDL'</span><span style="color: #007700">]))&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//si&nbsp;le&nbsp;wsdl&nbsp;est&nbsp;demande,&nbsp;on&nbsp;l'affiche<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oPluginWsdl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//sinon&nbsp;on&nbsp;cree&nbsp;le&nbsp;webservice<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oServer&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SoapServer</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'http://localhost/mkframework/data/genere/mkdraw/public/webservice.php?WSDL'</span><span style="color: #007700">,&nbsp;array(</span><span style="color: #DD0000">'cache_wsdl'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">WSDL_CACHE_NONE</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;defini&nbsp;la&nbsp;classe&nbsp;a&nbsp;utiliser&nbsp;comme&nbsp;webservice&nbsp;(methode&nbsp;publiques)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oServer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'webservice'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oServer</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">handle</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">exit;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br />class&nbsp;</span><span style="color: #0000BB">webservice</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">setContent</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">,</span><span style="color: #0000BB">$tObject</span><span style="color: #007700">,</span><span style="color: #0000BB">$tMenuLayerObject</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oSchema</span><span style="color: #007700">=</span><span style="color: #0000BB">model_schema</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findById</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oSchema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tObject</span><span style="color: #007700">=</span><span style="color: #0000BB">$tObject</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oSchema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tMenuLayerObject</span><span style="color: #007700">=</span><span style="color: #0000BB">$tMenuLayerObject</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oSchema</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;array(</span><span style="color: #DD0000">'return'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'test'</span><span style="color: #007700">,</span><span style="color: #DD0000">'ok'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br /><a id="plugin_xmlObject" name="plugin_xmlObject"></a><br /><h2>Comment exporter un objet en xml</h2>Pour afficher un enregistrement en xml:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_showXml</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findById</span><span style="color: #007700">(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xmlObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$oAuteur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setListColumn</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,</span><span style="color: #DD0000">'nom'</span><span style="color: #007700">,</span><span style="color: #DD0000">'prenom'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br />}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Et pour enregistrer dans un fichier, utilisez la m&eacute;thode build() plutot que show():<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_saveXml</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$id</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findById</span><span style="color: #007700">(</span><span style="color: #0000BB">$id</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xmlObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$oAuteur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setListColumn</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,</span><span style="color: #DD0000">'nom'</span><span style="color: #007700">,</span><span style="color: #DD0000">'prenom'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$sXml</span><span style="color: #007700">=</span><span style="color: #0000BB">$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'../data/auteur_'</span><span style="color: #007700">.</span><span style="color: #0000BB">$id</span><span style="color: #007700">.</span><span style="color: #DD0000">'.xml'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setContent</span><span style="color: #007700">(</span><span style="color: #0000BB">$sXml</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br /><a id="plugin_xmlListObject" name="plugin_xmlListObject"></a><br /><h2>Comment exporter une liste/tableau d&#039;objet en xml</h2>Pour afficher une liste/tableau d&#039;objet en xml:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listXml</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xmlListObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$tAuteur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setListColumn</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,</span><span style="color: #DD0000">'nom'</span><span style="color: #007700">,</span><span style="color: #DD0000">'prenom'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Et pour enregistrer dans un fichier, utilisez la m&eacute;thode build() plutot que show():<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_saveXml</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tAuteur</span><span style="color: #007700">=</span><span style="color: #0000BB">model_auteur</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_xmlListObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$tAuteur</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setListColumn</span><span style="color: #007700">(array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">,</span><span style="color: #DD0000">'nom'</span><span style="color: #007700">,</span><span style="color: #DD0000">'prenom'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$sXml</span><span style="color: #007700">=</span><span style="color: #0000BB">$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'../data/auteurs.xml'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setContent</span><span style="color: #007700">(</span><span style="color: #0000BB">$sXml</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><a id="automatiserrow" name="automatiserrow"></a><br /><h2>Automatiser un retraitement sur des enregistrements</h2>Il arrive certaines fois que l&#039;on souhaite reformater une date &agrave; la r&eacute;cup&eacute;ration et/ou &agrave; l&#039;enregistrement<br />Par exemple si l&#039;on change le format d&#039;affichage de la date en fonction de la langue ou si l&#039;on utilise un datePicker.<br /><br />Pour cela, il faut pour modifier les enregistrements lus:<br />Dans la class row_** de votre table, par exemple ici row_article<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">row_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_row</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$sClassModel</span><span style="color: #007700">=</span><span style="color: #DD0000">'model_article'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;surcharge&nbsp;le&nbsp;constructeur<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$tRow</span><span style="color: #007700">){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;modifie&nbsp;le&nbsp;champ&nbsp;date&nbsp;avant&nbsp;d'initialiser&nbsp;l'objet<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oDate&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">plugin_date</span><span style="color: #007700">(</span><span style="color: #0000BB">$tRow</span><span style="color: #007700">[</span><span style="color: #DD0000">'date'</span><span style="color: #007700">],</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tRow</span><span style="color: #007700">[</span><span style="color: #DD0000">'date'</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;appel&nbsp;le&nbsp;constructeur&nbsp;normal&nbsp;de&nbsp;la&nbsp;row<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$tRow</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Et pour modifier &agrave; la sauvegarde en base de donn&eacute;es:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">row_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_row</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$sClassModel</span><span style="color: #007700">=</span><span style="color: #DD0000">'model_article'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">save</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isValid</span><span style="color: #007700">()){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//on&nbsp;formate&nbsp;à&nbsp;la&nbsp;volée<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oDate&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">plugin_date</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">date</span><span style="color: #007700">,</span><span style="color: #DD0000">'d/m/Y'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">date&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$oDate</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">toString</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y-m-d'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parent</span><span style="color: #007700">::</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><br /><br /><a id="abstract_modelVirtual" name="abstract_modelVirtual"></a><br /><h2>Cr&eacute;er un mod&egrave;le virtuel</h2>Imaginons que l&#039;on ai un ou N fichiers physiques (csv,xml..) et que l&#039;on souhaite permettre d&#039;avoir des tableaux ou autre les affichant.<br />On peut d&eacute;sormais utiliser cette classe abstraite &quot;abstract_modelVirtual&quot;<br /><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">model_virtualProducts&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_modelVirtual</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//cache&nbsp;actif&nbsp;oui/non<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$bCacheEnabled</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//id&nbsp;du&nbsp;cache&nbsp;genere<br /></span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$sCacheId</span><span style="color: #007700">=</span><span style="color: #DD0000">'virtualProducts'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//duree&nbsp;de&nbsp;vie&nbsp;du&nbsp;cache&nbsp;(en&nbsp;minute)<br /></span><span style="color: #007700">protected&nbsp;</span><span style="color: #0000BB">$iCacheLifetime</span><span style="color: #007700">=</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">_getInstance</span><span style="color: #007700">(</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//definition&nbsp;des&nbsp;colonnes<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setColumns</span><span style="color: #007700">(array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Category'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Name'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Price'<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//laisser&nbsp;tel&nbsp;quel&nbsp;pour&nbsp;gerer&nbsp;le&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(!</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">()){<br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">storeCache</span><span style="color: #007700">();<br />}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">load</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//algo&nbsp;pour&nbsp;remplir&nbsp;la&nbsp;base&nbsp;virtuelle<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oXml</span><span style="color: #007700">=</span><span style="color: #0000BB">simplexml_load_file</span><span style="color: #007700">(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'path.data'</span><span style="color: #007700">).</span><span style="color: #DD0000">'xml/products.xml'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$oXml</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">children</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$oXmlChild</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$obj</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">stdClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Category</span><span style="color: #007700">=(string)</span><span style="color: #0000BB">$oXmlChild</span><span style="color: #007700">[</span><span style="color: #DD0000">'label'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$oXmlChild</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">children</span><span style="color: #007700">()&nbsp;as&nbsp;</span><span style="color: #0000BB">$oXmlChild2</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Name</span><span style="color: #007700">=(string)</span><span style="color: #0000BB">$oXmlChild2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Price</span><span style="color: #007700">=(string)</span><span style="color: #0000BB">$oXmlChild2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">price</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addObject</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//note&nbsp;pour&nbsp;les&nbsp;requetes&nbsp;SQL&nbsp;pas&nbsp;besoin&nbsp;de&nbsp;definir&nbsp;une&nbsp;table,&nbsp;mais&nbsp;le&nbsp;mot&nbsp;cle&nbsp;"from"&nbsp;reste&nbsp;necessaire<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findMany</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;virtual&nbsp;'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">findAllSortBy</span><span style="color: #007700">(</span><span style="color: #0000BB">$sField</span><span style="color: #007700">,</span><span style="color: #0000BB">$sSide</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findMany</span><span style="color: #007700">(</span><span style="color: #DD0000">'SELECT&nbsp;*&nbsp;FROM&nbsp;virtual&nbsp;ORDER&nbsp;BY&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$sField</span><span style="color: #007700">.</span><span style="color: #DD0000">'&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">$sSide</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>		</div><!-- /.blog-main -->

		<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
			
			 
			<p><button onclick="goTo('telecharger.html');" type="button" class="btn btn-primary">T&eacute;l&eacute;charger le framework</button></p>
			
			<p><a href="https://twitter.com/mkframework" class="twitter-follow-button" data-show-count="false" data-lang="fr">Suivre @mkframework</a></p>
			
			
			
			<div class="sidebar-module">
					 <h4>Le site</h4>
          <ul class="nav">
							<li><a href="accueil.html">Accueil</a></li>
							<li><a href="news.html">News</a></li>
							<li><a href="roadmap.html">Roadmap</a></li>
								</ul>
				 <h4>Pr&eacute;sentation</h4>
          <ul class="nav">
							<li><a href="fonctionnement.html">Sch&eacute;mas</a></li>
							<li><a href="builder.html">Le g&eacute;n&eacute;rateur web</a></li>
							<li><a href="orm.html">L'ORM <br/>(La couche mod&egrave;le)</a></li>
							<li><a href="configuration.html">Configuration</a></li>
							<li><a href="security.html">La s&eacute;curit&eacute;</a></li>
							<li><a href="api.html">L'API (Phpdoc)</a></li>
								</ul>
				 <h4>Apprendre</h4>
          <ul class="nav">
							<li><a href="start.html">D&eacute;marrer</a></li>
							<li><a href="tutoriaux.html">Tutoriaux</a></li>
							<li><a href="screencasts.html">Tutotoriaux vid&eacute;os</a></li>
							<li><a href="bestpractices.html">Bonnes pratiques</a></li>
							<li><a href="slides.html">Slides</a></li>
								</ul>
				 <h4>T&eacute;l&eacute;charger</h4>
          <ul class="nav">
							<li><a href="telecharger.html">Framework &amp; plus</a></li>
							<li><a href="projets.html">Les applications</a></li>
							<li><a href="modules.html">Les modules</a></li>
							<li><a href="plugins.html">Les plugins</a></li>
								</ul>
				 <h4>Aide</h4>
          <ul class="nav">
					<li class="active"><a href="faq.html">FAQ <br/>Foire aux questions</a></li>
					<li><a target="_blank" href="http://www.developpez.net/forums/f1355/applications/projets/projets-heberges/mkframework/">Forum / aide</a></li>
		 </ul>
</div>
 
        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->
	
	
	 <div class="blog-footer">
       
      <p>
        <a href="#">Retour en haut</a>
      </p>
    </div>
	
	 
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

 <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="site/js/jquery-1.11.1.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="site/js/bootstrap.min.js"></script>
  
 
</body>
</html>

<!--cache -->