<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="site/css/bootstrap.min_v2.css" />
    
 
    <title>MkFramework</title>
 <link rel="stylesheet" type="text/css" href="site/css/main.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="site/css/jumbotron.css" media="screen" />


  
<script src="site/js/main.js" type="text/javascript"></script>

<link rel="alternate" type="application/rss+xml" title="RSS" href="news.rss"/>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34332613-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<style>
.container2{
margin-top:40px;

}
</style>
</head>
<body>

<style>
.navbar .navbar-brand{
background: url('site/css/images//logoMk.png') no-repeat 0px 0px ;
padding-left:60px;
}
</style>

<nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
	<a class="navbar-brand" href="#">MKFramework</a>
	<button class="navbar-toggler p-0 border-0" type="button" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="navbar-toggler-icon"></span>
	</button>
	
 

	<div class="navbar-collapse collapse"  >
		<ul class="navbar-nav mr-auto">
		
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="accueil_en.html">Home <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="news_en.html">The website <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="fonctionnement_en.html">Presentation <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item active">
					<a  class="nav-link" href="start_en.html">Documentation <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="publishonweb_en.html">Publications <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="telecharger_en.html">Download <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a target="_blank" class="nav-link" href="http://www.developpez.net/forums/f1355/applications/projets/projets-heberges/mkframework/">Forum <span class="sr-only">(current)</span></a>
				</li>
			
				
				
						
			
          
		</ul>
		
		<ul class="navbar-nav  navbar-right">
						<li class="nav-item"><a class="nav-link"  href="faq.html">FR</a></li>

			<li><a class="nav-link" style="font-weight:bold" href="faq_en.html">EN</a></li>
		</ul>
		
	</div>
</nav>
 <style>
 .navbar-custom {
    background-color: #124c5c;
}</style>
<nav class="navbar navbar-expand-md  navbar-custom navbar-dark">
	 

	<div class="navbar-collapse collapse"  >
		<ul class="navbar-nav mr-auto">
	
			
	
				
			
			<li class="nav-item ">
				<a class="nav-link" href="start_en.html" >Start <span class="sr-only">(current)</span></a>
			</li>
		
			
			
				
			
			<li class="nav-item ">
				<a class="nav-link" href="tutoriaux_en.html" >Tutorials <span class="sr-only">(current)</span></a>
			</li>
		
			
			
				
			
			<li class="nav-item ">
				<a class="nav-link" href="bigtutoriaux_en.html" >Big Tutorials <span class="sr-only">(current)</span></a>
			</li>
		
			
			
				
					
			
			<li class="nav-item ">
				<a class="nav-link" href="otherscreencasts_en.html" >Screencasts <span class="sr-only">(current)</span></a>
			</li>
		
			
			
				
					
			
			<li class="nav-item ">
				<a class="nav-link" href="api_en.html" >API <span class="sr-only">(current)</span></a>
			</li>
		
			
			
				
			
			<li class="nav-item active">
				<a class="nav-link" href="#" >FAQ <span class="sr-only">(current)</span></a>
			</li>
		
			
			
		  
  
         
	</ul>
</div>
</nav>


    
      <main role="main">
      
		<div class="container container2">
	 
		<h1>FAQ: Frequently Asked Questions</h1><h2>Menu</h2><a href="#virtualhost">Configure your virtualhost </a><br /><a href="#livrer">Deliver an application on production server </a><br /><a href="#getParam">Get a variable GET,POST </a><br /><a href="#getParams">Get list of parameters </a><br /><a href="#cache">Manage your cache </a><br /><a href="#passerunevariabledelactionalavue">Assign a variable from action to the view </a><br /><a href="#issetunevariabledelactionalavue">Check if a variable is assigned on the view </a><br /><a href="#chargerunmoduleaunemplacementtemplate">Load a module on a layout placeholder </a><br /><a href="#executeruntraitementpourlensembledunmodule"> Execute a process to global module </a><br /><a href="#ajouterunplugin">Add a plugin </a><br /><a href="#appelerunplugin">Call / Use a plugin </a><br /><a href="#unexportexcelcsv">An export excel (csv exactly) </a><br /><a href="#getnommodule">Get the module name </a><br /><a href="#getnomaction">Get the action name </a><br /><a href="#getnav">Get the navigation variable </a><br /><a href="#getlink">Make a link to the action &quot;list&quot; of the module &quot;article&quot; </a><br /><a href="#paramlayout">Assign a variable to the layout </a><br /><a href="#issetparamlayout">Check a variable in the layout </a><br /><a href="#authenabled">Make a private access </a><br /><a href="#redirect">Make a redirection </a><br /><a href="#i18n">Make a website multi-language </a><br /><a href="#log">Log in your website </a><br /><a href="#urlrewriting">Use the url-rewriting </a><br /><a href="#parametremodulepardefaut">Configure the default module </a><br /><a href="#filegetcontent">Read a file </a><br /><a href="#filesetcontent">Create/Write in a file </a><br /><a href="#dirsave">Create a directory  </a><br /><a href="#dirlist">List file in a directory  </a><br /><a href="#sdirlist">List directory in an othen directory  </a><br /><br /><h2>JQuery</h2><a href="#jqueryinnerhtml">JQuery, make a link innerHtml </a><br /><a href="#jquerymodifyhtml">JQuery, update an html element </a><br /><a href="#jquerycallback">JQuery, make an ajax call with a callback </a><br /><br /><h1>Answers</h1><p><a id="virtualhost" name="virtualhost"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Configure your virtualhost</h2>This is the virtualhost configuration for this case:<br />Sources: /var/www/Projects/yourApplication<br />Url: www.projet.com<br /><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">Projects</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">Projects</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />When you will deliver on Production environment follow instruction below<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="livrer" name="livrer"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Deliver an application on production server</h2>Builder generate website in the Projects/ directory<br />You should copy the framework directory (Lib/mkframeworkLib/) and your website directory (Projects/yourApplication) on the Production server.<br />Then you have to configure in your website where is the library (configure it in the file conf/site.ini.php, variable lib in the section [path])<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">path</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">lib</span><span style="color: #007700">=../../../</span><span style="color: #0000BB">Lib</span><span style="color: #007700">/</span><span style="color: #0000BB">mkframeworkLib</span><span style="color: #007700">/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>You can enable the autoload cache to be more performant, it will create a file autoload.php in the directory data/cache*<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">cache</span><span style="color: #007700">]<br />(...)<br /></span><span style="color: #0000BB">autoload</span><span style="color: #007700">.</span><span style="color: #0000BB">enabled<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />The virtuallhost configuration block : in this example the website is installed in /var/www<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;All<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />If you use urlrewriting,  #link ##urlrewriting #label read this link#<br /><br />* warn to check permission on data/cache directory (the website have to write in it)<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getParam" name="getParam"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Get a variable GET,POST</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'myvariable'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getParams" name="getParams"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Get list of parameters</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getRequest</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getParams</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="cache" name="cache"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Manage your cache</h2>You have to ways<br />1. the entire website is cached<br />Configure enabled=1 in the file conf/site.ini.php, in the section [cache]<br />You can indicate a defined time validity for cache with the parameter lifetime (in the same section)<br /><br />Note: if all the website is cached except some pages,<br />Add in method before_yourPageNotCached  (for example a contact form...)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//this&nbsp;method&nbsp;is&nbsp;executed&nbsp;for&nbsp;the&nbsp;entire&nbsp;module&nbsp;before&nbsp;check&nbsp;the&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//il&nbsp;suffit&nbsp;donc&nbsp;de&nbsp;forcer&nbsp;la&nbsp;valeur&nbsp;à&nbsp;0<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'cache.enabled'</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//this&nbsp;method&nbsp;is&nbsp;executed&nbsp;before&nbsp;the&nbsp;action&nbsp;_yourPageNotCached&nbsp;before&nbsp;check&nbsp;the&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before_yourPageNotCached</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//il&nbsp;suffit&nbsp;donc&nbsp;de&nbsp;forcer&nbsp;la&nbsp;valeur&nbsp;a&nbsp;0<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'cache.enabled'</span><span style="color: #007700">,</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_yourPageNotCached</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//your&nbsp;page&nbsp;not&nbsp;cached<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />2. you cache only a couple module/action<br />In this case, you have to use the methode _root::getCache(), which get the unique instance of _cache class<br />Cache is managed with view object (_view), you check is a cache exists<br />- if yes, you check its date validity (if it is recent, you use it)<br />- if no, you make your page and think to save your view in cache at end<br /><br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">getViewList</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//is&nbsp;there&nbsp;an&nbsp;active&nbsp;cache&nbsp;which&nbsp;validiry&nbsp;is&nbsp;under&nbsp;1&nbsp;minute<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">,</span><span style="color: #0000BB">1</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//if&nbsp;there&nbsp;is,&nbsp;get&nbsp;the&nbsp;cache&nbsp;view<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//if&nbsp;not,&nbsp;process<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oModelArticle</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">model_article</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModelArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListColumn</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//at&nbsp;end&nbsp;we&nbsp;save&nbsp;the&nbsp;view&nbsp;in&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #DD0000">'article_list'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br /><br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getViewList</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note: you can use a cache for static parts (menu for example)<br />If it&#039;s a static part, don&#039;t limit the cache validity<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//is&nbsp;there&nbsp;a&nbsp;cache&nbsp;?<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//we&nbsp;always&nbsp;use&nbsp;it,&nbsp;we&nbsp;don't&nbsp;check&nbsp;the&nbsp;validiy<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tLink</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Accueil'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::accueil'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'News'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::news'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Présentation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::presentation'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Librairie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::librairie'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'L&nbsp;ORM'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::orm'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Tutoriaux'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::tutoriaux'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CommentKonFait&nbsp;?'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::faq'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Builder'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::builder'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink</span><span style="color: #007700">=</span><span style="color: #0000BB">$tLink</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//we&nbsp;save&nbsp;the&nbsp;view&nbsp;in&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Note: if you update the menu (add an entry/link..) you have to delete the file data/cache/menu.cache to generate a new one<br /><br />Warn in a menu case, if you use it you will will always have the same menu, but it won&#039;t display if a menu is selected.<br />When you will ask for news page, it will display the menu cache (with link home selected) :(<br />To avoid this, you have to name the cache with an unique id for every declension of your menu (one by tab)<br />You can do this for example<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_index</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//there&nbsp;we&nbsp;create&nbsp;a&nbsp;unique&nbsp;id&nbsp;with&nbsp;the&nbsp;couple&nbsp;module/action<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$sMenuId</span><span style="color: #007700">=</span><span style="color: #DD0000">'menu_'</span><span style="color: #007700">.</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getModule</span><span style="color: #007700">().</span><span style="color: #DD0000">'_'</span><span style="color: #007700">.</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAction</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//y&nbsp;a&nbsp;t&nbsp;il&nbsp;un&nbsp;cache<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">isCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">)&nbsp;==&nbsp;</span><span style="color: #0000BB">true&nbsp;</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">getCached</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}else{<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tLink</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Accueil'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::accueil'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'News'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::news'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Présentation'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::presentation'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Librairie'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::librairie'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'L&nbsp;ORM'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::orm'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Tutoriaux'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::tutoriaux'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'CommentKonFait&nbsp;?'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::faq'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Builder'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'pages::builder'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink</span><span style="color: #007700">=</span><span style="color: #0000BB">$tLink</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//when&nbsp;you&nbsp;save&nbsp;the&nbsp;cache&nbsp;you&nbsp;will&nbsp;save&nbsp;each&nbsp;declension&nbsp;of&nbsp;your&nbsp;menu&nbsp;&nbsp;&nbsp;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getCache</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">setCache</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$sMenuId&nbsp;</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="passerunevariabledelactionalavue" name="passerunevariabledelactionalavue"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Assign a variable from action to the view</h2>For example, assign article object from action to the view &quot;show&quot;<br />module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//we&nbsp;assign&nbsp;the&nbsp;variable&nbsp;$article&nbsp;to&nbsp;the&nbsp;view&nbsp;&nbsp;with&nbsp;the&nbsp;name&nbsp;"myArticle"<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />In the view<br />module/article/view/show.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="issetunevariabledelactionalavue" name="issetunevariabledelactionalavue"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Check if a variable is assigned on the view</h2>For example, you want to check if a variable is assigned<br />module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">);<br /></span><span style="color: #FF8000">//we&nbsp;assign&nbsp;the&nbsp;variable&nbsp;$oArticle&nbsp;to&nbsp;the&nbsp;view&nbsp;on&nbsp;the&nbsp;name&nbsp;"myArticle"<br /></span><span style="color: #007700">if(</span><span style="color: #0000BB">$myCondition</span><span style="color: #007700">==</span><span style="color: #0000BB">true</span><span style="color: #007700">){}<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />In the view<br />module/article/view/show.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">)){<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="gererlapaginationdesonsite" name="gererlapaginationdesonsite"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Manage the pagination of your site (in php)</h2>In your file module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listPagination</span><span style="color: #007700">(){<br /><br /></span><span style="color: #FF8000">//first&nbsp;we&nbsp;get&nbsp;our&nbsp;entire&nbsp;article&nbsp;list<br /></span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">model_article</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//then&nbsp;we&nbsp;instance&nbsp;the&nbsp;module&nbsp;pagination&nbsp;(directory&nbsp;module/pagination)<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">module_pagination</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setModuleAction</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listPagination'</span><span style="color: #007700">);</span><span style="color: #FF8000">//we&nbsp;indicate&nbsp;our&nbsp;couple&nbsp;module/action<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setParamPage</span><span style="color: #007700">(</span><span style="color: #DD0000">'page'</span><span style="color: #007700">);</span><span style="color: #FF8000">//the&nbsp;variable&nbsp;name&nbsp;for&nbsp;the&nbsp;page<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLimit</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setPage</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'page'</span><span style="color: #007700">)&nbsp;);<br /></span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setTab</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$tArticle&nbsp;</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//we&nbsp;give&nbsp;it&nbsp;our&nbsp;article&nbsp;array<br /><br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listPagination'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getPageElement</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//we&nbsp;assign&nbsp;the&nbsp;article&nbsp;array&nbsp;to&nbsp;the&nbsp;view<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">=</span><span style="color: #0000BB">$oArticleModel</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListColumn</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oModulePagination</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//we&nbsp;assign&nbsp;the&nbsp;pagination&nbsp;module&nbsp;object&nbsp;to&nbsp;the&nbsp;view<br /><br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br />}<br /><br />(...)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />In your view module/article/view/listPagination.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">(...)<br /><br /></span><span style="color: #FF8000">//add&nbsp;at&nbsp;your&nbsp;view&nbsp;end&nbsp;to&nbsp;show&nbsp;your&nbsp;pagination&nbsp;navigation<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oModulePagination</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">()</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="chargerunmoduleaunemplacementtemplate" name="chargerunmoduleaunemplacementtemplate"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Load a module on a layout placeholder</h2>You can need to load a module in your view<br />For example a calendar module<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'module::action'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tpl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oViewCalendrier</span><span style="color: #007700">=</span><span style="color: #0000BB">module_calendrier</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//the&nbsp;method&nbsp;build&nbsp;has&nbsp;to&nbsp;return&nbsp;the&nbsp;view&nbsp;object<br /><br />//ou<br /><br /></span><span style="color: #0000BB">$oModuleCalendrier</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">module_calendrier</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oViewCalendrier</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModuleCalendrier</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">build</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//the&nbsp;method&nbsp;build&nbsp;has&nbsp;to&nbsp;return&nbsp;the&nbsp;view&nbsp;object<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>And then in your view module/view/action.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oViewCalendrier</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show</span><span style="color: #007700">();</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="executeruntraitementpourlensembledunmodule" name="executeruntraitementpourlensembledunmodule"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Execute a process to global module</h2>This is the job of the method before(), this method is always executed when the module is loaded by the framework (note: module, not embedded module)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menu::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//for&nbsp;all&nbsp;the&nbsp;module&nbsp;we&nbsp;load&nbsp;the&nbsp;module&nbsp;menu&nbsp;at&nbsp;"menu"&nbsp;placeholder<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="ajouterunplugin" name="ajouterunplugin"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Add a plugin</h2>Simply create a class file in the directory plugin/, your class has to begin with plugin_<br />For example<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">Class&nbsp;</span><span style="color: #0000BB">plugin_votrePlugin</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//the&nbsp;code&nbsp;of&nbsp;your&nbsp;plugin<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="unexportexcelcsv" name="unexportexcelcsv"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>An export excel (csv exactly)</h2>In your module file for example module/article/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">(...)<br />public&nbsp;function&nbsp;</span><span style="color: #0000BB">_listeArticleCsv</span><span style="color: #007700">(){<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">model_article</span><span style="color: #007700">::</span><span style="color: #0000BB">getInstance</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">findAll</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::listeArticleCsv'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">=</span><span style="color: #0000BB">$tArticle</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//$this-&gt;oLayout&nbsp;has&nbsp;been&nbsp;instanciate&nbsp;in&nbsp;the&nbsp;before&nbsp;method<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oView</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLayout</span><span style="color: #007700">(</span><span style="color: #DD0000">'download'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">=</span><span style="color: #DD0000">'file_article_list.csv'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">=</span><span style="color: #DD0000">'csv'</span><span style="color: #007700">;<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />In a layout file layout/download.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Cache-Control:public'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Pragma:'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Expires:&nbsp;Mon,&nbsp;26&nbsp;Jul&nbsp;1997&nbsp;05:00:00&nbsp;GMT"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Disposition:&nbsp;attachment;&nbsp;filename=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Transfer-Encoding:binary'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-Type:&nbsp;application/"</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sExtension</span><span style="color: #007700">.</span><span style="color: #DD0000">";name=\""</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">sFileName</span><span style="color: #007700">.</span><span style="color: #DD0000">"\""</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">ob_clean</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">flush</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">)</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />In the view module/article/view/listeArticleCsv.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />TITRE</span><span style="color: #007700">;</span><span style="color: #0000BB">AUTEUR<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tArticle&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">):</span><span style="color: #0000BB">?&gt;<br />&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre&nbsp;?&gt;</span>;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">auteur&nbsp;?&gt;<br />&lt;?php&nbsp;</span><span style="color: #007700">endforeach;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getnommodule" name="getnommodule"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Get the module name</h2>This framework use a variable which contains the couple module::action<br />You can display/get the module name like this<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getModule</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getnomaction" name="getnomaction"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Get the action name</h2>This framework use a variable which contains the couple module::action<br />You can display/get the action name like this<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAction</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getnav" name="getnav"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Get the navigation variable</h2>This framework use a variable which contains the couple module::action<br />You can display/get the navigation variable like this<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParamNav</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="getlink" name="getlink"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Make a link to the action &quot;list&quot; of the module &quot;article&quot;</h2>You can make a link whith use _root::getLink()<br />For example to link the module &quot;article&quot; and action &quot;list&quot;:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//without&nbsp;parameter<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink('article::list');?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">libelle</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br /><br /></span><span style="color: #FF8000">//with&nbsp;parameter&nbsp;(for&nbsp;example&nbsp;edit&nbsp;the&nbsp;id&nbsp;2)<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink('article::edit',array('id'=&gt;2));?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">edit&nbsp;the&nbsp;article&nbsp;2</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />[UPDATE 27nov09]<br />Add the possibility to make a link with an array<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//avec&nbsp;parametre&nbsp;(par&nbsp;exemple&nbsp;edition&nbsp;id&nbsp;2)<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"&lt;?php&nbsp;echo&nbsp;_root::getLink(array('article::edit','id'=&gt;2));?&gt;"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">edit&nbsp;the&nbsp;article&nbsp;2</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="paramlayout" name="paramlayout"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Assign a variable to the layout</h2>You process as you do with the views (_view)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_show</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title</span><span style="color: #007700">=</span><span style="color: #DD0000">"The&nbsp;article&nbsp;title"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>In the layout, as in the view<br />layout/template1.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">title&nbsp;?&gt;</span>&lt;/title&gt;<br />&lt;/head&gt;<br />(...)<br />&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="paramlayout" name="paramlayout"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Check a variable in the layout</h2>As you do with the view (_view)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_article&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_show</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">=</span><span style="color: #DD0000">"The&nbsp;article&nbsp;title"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /><br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>In the layout file<br />layout/template1.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">you&nbsp;website</span><span style="color: #007700">.</span><span style="color: #0000BB">com</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">body</span><span style="color: #007700">&gt;<br />&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">if(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">)):</span><span style="color: #0000BB">?&gt;</span>&lt;p&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test?&gt;</span>&lt;/p&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endif;</span><span style="color: #0000BB">?&gt;<br /></span>(...)<br />&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="authenabled" name="authenabled"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Make a private access</h2>You have 2 ways to make a private access<br />You can make you website<br />1. all the site is private<br />2. all the site is public except some pages<br /><br />You can manage the total private access if you configure enabled=1 in the [auth] section<br />In conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">auth</span><span style="color: #007700">]<br />;</span><span style="color: #0000BB">note&nbsp;</span><span style="color: #007700">:&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">php5.2&nbsp;dans&nbsp;le&nbsp;php</span><span style="color: #007700">.</span><span style="color: #0000BB">ini<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">cookie_httponly</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_only_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br />enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />You can manage the private acces on a module<br />For example<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_exemple&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//with&nbsp;this&nbsp;method&nbsp;you&nbsp;unforce&nbsp;private&nbsp;access&nbsp;for&nbsp;this&nbsp;module<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />and here you decide to make a private access on a couple module/action<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_exemple&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">(...)<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//here&nbsp;you&nbsp;unforce&nbsp;private&nbsp;access&nbsp;for&nbsp;this&nbsp;action<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getAuth</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">enable</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_list</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//page&nbsp;privee<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note: when you use the private access, you have to configure the section [auth]<br />In conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">auth</span><span style="color: #007700">]<br />;</span><span style="color: #0000BB">note&nbsp;</span><span style="color: #007700">:&nbsp;&gt;=&nbsp;</span><span style="color: #0000BB">php5.2&nbsp;dans&nbsp;le&nbsp;php</span><span style="color: #007700">.</span><span style="color: #0000BB">ini<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">cookie_httponly</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">;</span><span style="color: #0000BB">session</span><span style="color: #007700">.</span><span style="color: #0000BB">use_only_cookies&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1<br />enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_auth<br />module</span><span style="color: #007700">=</span><span style="color: #0000BB">auth</span><span style="color: #007700">::</span><span style="color: #0000BB">login<br />session</span><span style="color: #007700">.</span><span style="color: #0000BB">timeout</span><span style="color: #007700">.</span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br />session</span><span style="color: #007700">.</span><span style="color: #0000BB">timeout</span><span style="color: #007700">.</span><span style="color: #0000BB">lifetime</span><span style="color: #007700">=(</span><span style="color: #0000BB">60</span><span style="color: #007700">*</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />As you can read in this section, there is a variable which contains the private module, here auth::login<br />If you are on private page and you are not log on, it will redirect you to this parameter module. (variable module)<br />You can read a variable which contains the puglin used to check access (variable class)<br />The framework will call the method isConnected() on you class (plugin_auth)<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="redirect" name="redirect"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Make a redirection</h2><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #DD0000">'module::action'</span><span style="color: #007700">[,</span><span style="color: #0000BB">$tParam</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />For example to redirect to the page which show the article 2<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">redirect</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;</span><span style="color: #0000BB">2</span><span style="color: #007700">)&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="i18n" name="i18n"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Make a website multi-language</h2>To make you website multi-language need 3 steps<br />1. configure a php array by language<br />2. use the method to translate the tag in your language<br />3. provide links to swich between language and keep the language chosen<br /><br />First step, go to the directory data/i18n, you can see one file by language<br />File data/i18n/en.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;_root</span><span style="color: #007700">::</span><span style="color: #0000BB">setConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'tLangue'</span><span style="color: #007700">,array(<br /><br /></span><span style="color: #DD0000">'BONJOUR'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Hello'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'BIENVENUE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Welcome'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'CHOISISSEZ_LANGUE'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Choose&nbsp;your&nbsp;language'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'DU_TEXTE_EN_FRANCAIS'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'Some&nbsp;text&nbsp;in&nbsp;english'</span><span style="color: #007700">,<br /></span><span style="color: #DD0000">'La_date'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'The&nbsp;date'</span><span style="color: #007700">,<br /><br />))</span><span style="color: #0000BB">?&gt;</span>&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>As you can read, the file call a framework method to load an associative array: the key is the tag, and the value the translation<br /><br />Second step, you the static get method of the plugin plugin_i18n<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">plugin_i18n</span><span style="color: #007700">::</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'BONJOUR'</span><span style="color: #007700">);&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Make this call for every text to dislay<br />note: you can add a function in your plugin plugin_i18n at the end<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">tr</span><span style="color: #007700">(</span><span style="color: #0000BB">$sText</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">plugin_i18n</span><span style="color: #007700">::</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #0000BB">$sText</span><span style="color: #007700">);<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Last step, you can display some links by languaget<br />In your layout, or your views put a link<br />For example<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">a&nbsp;href</span><span style="color: #007700">=</span><span style="color: #DD0000">"?lang=fr"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">FR</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">a</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />In module, think to intecept the value to load the language file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">startSession</span><span style="color: #007700">();<br />if(&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">)&nbsp;){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParam</span><span style="color: #007700">(</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">);<br />}<br />if(!isset(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">])){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]=</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getConfigVar</span><span style="color: #007700">(</span><span style="color: #DD0000">'language.default'</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">plugin_i18n</span><span style="color: #007700">::</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SESSION</span><span style="color: #007700">[</span><span style="color: #DD0000">'lang'</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="log" name="log"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Log in your website</h2>The mkFramework provide you 4 log level<br />1. error<br />2. warning<br />3. applicative message<br />4. information<br /><br />This is enable/disable in configuration file conf/site.ini.php, in section [log]<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">log</span><span style="color: #007700">]<br />class=</span><span style="color: #0000BB">plugin_log<br />error</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />warning</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />application</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />information</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />When you enable logs, you can read in directory data/log/ the framework logs<br />But you can use the loger if you need with method _root::getLog()-&gt;log()<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">info</span><span style="color: #007700">(</span><span style="color: #DD0000">'An&nbsp;information&nbsp;message'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">warning</span><span style="color: #007700">(</span><span style="color: #DD0000">'A&nbsp;warning&nbsp;message'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">error</span><span style="color: #007700">(</span><span style="color: #DD0000">'An&nbsp;error&nbsp;message'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLog</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #DD0000">'You&nbsp;applicative&nbsp;message'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>If you use the static method log() for your message, you can easily filter the log to write. (in debugging/test/production)<br /><br />An example of log<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">module&nbsp;a&nbsp;appeler&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::list]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">before</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">template1</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">choix&nbsp;de&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">layout</span><span style="color: #007700">/</span><span style="color: #0000BB">template1</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">ajout&nbsp;appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">::</span><span style="color: #0000BB">index</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">a&nbsp;la&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">::</span><span style="color: #0000BB">index</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tLink</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">_list</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">sql&nbsp;select</span><span style="color: #007700">:<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">initialisation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::list]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tArticle</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;---</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">assignation&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">tColumn</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">ajout&nbsp;appel&nbsp;vue&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">article</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/list.</span><span style="color: #0000BB">php</span><span style="color: #007700">]&nbsp;</span><span style="color: #0000BB">a&nbsp;la&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">main</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;</span><span style="color: #0000BB">appel&nbsp;module&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">article</span><span style="color: #007700">::</span><span style="color: #0000BB">after</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">layout</span><span style="color: #007700">/</span><span style="color: #0000BB">template1</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">chargement</span><span style="color: #007700">/</span><span style="color: #0000BB">affichage&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">menu</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">menu</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;-</span><span style="color: #0000BB">layout</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">chargement</span><span style="color: #007700">/</span><span style="color: #0000BB">affichage&nbsp;place&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">main</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">2012</span><span style="color: #007700">-</span><span style="color: #0000BB">07</span><span style="color: #007700">-</span><span style="color: #0000BB">14</span><span style="color: #007700">;</span><span style="color: #0000BB">12</span><span style="color: #007700">:</span><span style="color: #0000BB">13</span><span style="color: #007700">:</span><span style="color: #0000BB">43</span><span style="color: #007700">;</span><span style="color: #0000BB">info</span><span style="color: #007700">;--</span><span style="color: #0000BB">vue</span><span style="color: #007700">:&nbsp;</span><span style="color: #0000BB">affichage&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">module</span><span style="color: #007700">/</span><span style="color: #0000BB">article</span><span style="color: #007700">/</span><span style="color: #0000BB">view</span><span style="color: #007700">/list.</span><span style="color: #0000BB">php</span><span style="color: #007700">]<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="urlrewriting" name="urlrewriting"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Use the url-rewriting</h2>If you want to use url-rewriting, you need:<br />1. enable the mod_rewrite on your apache<br />2. configure your virtualhost to enable url rewriting, or create a .htaccess<br />3. enable in your file conf/site.ini.php the variable enabled=1 in the section [urlrewriting]<br />4. configure your routing rules in file conf/routing.php<br /><br />Point 2<br />Configure your virtualhost<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">VirtualHost&nbsp;</span><span style="color: #007700">*:</span><span style="color: #0000BB">80</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;ServerAdmin&nbsp;webmaster</span><span style="color: #007700">@</span><span style="color: #0000BB">localhost<br />&nbsp;&nbsp;&nbsp;ServerName&nbsp;www</span><span style="color: #007700">.</span><span style="color: #0000BB">projet</span><span style="color: #007700">.</span><span style="color: #0000BB">com<br />&nbsp;&nbsp;&nbsp;DocumentRoot&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">Projects</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;FollowSymLinks<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;AllowOverride&nbsp;None<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;</span><span style="color: #0000BB">Directory&nbsp;</span><span style="color: #007700">/var/</span><span style="color: #0000BB">www</span><span style="color: #007700">/</span><span style="color: #0000BB">Projects</span><span style="color: #007700">/</span><span style="color: #0000BB">yourApplication</span><span style="color: #007700">/public&gt;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Options&nbsp;Indexes&nbsp;FollowSymLinks&nbsp;MultiViews<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteEngine&nbsp;On<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">s&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">l&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">d<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;-&nbsp;[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Order&nbsp;allow</span><span style="color: #007700">,</span><span style="color: #0000BB">deny<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allow&nbsp;from&nbsp;all<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">Directory</span><span style="color: #007700">&gt;<br />&lt;/</span><span style="color: #0000BB">VirtualHost</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Or you can write un file .htaccess in directory public/ with this content:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />Options&nbsp;</span><span style="color: #007700">+</span><span style="color: #0000BB">FollowSymlinks<br /><br />RewriteEngine&nbsp;On<br />RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">s&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">l&nbsp;</span><span style="color: #007700">[OR]<br /></span><span style="color: #0000BB">RewriteCond&nbsp;</span><span style="color: #007700">%{</span><span style="color: #0000BB">REQUEST_FILENAME</span><span style="color: #007700">}&nbsp;-</span><span style="color: #0000BB">d<br />RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;-&nbsp;[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">RewriteRule&nbsp;</span><span style="color: #007700">^.*$&nbsp;</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">[</span><span style="color: #0000BB">NC</span><span style="color: #007700">,</span><span style="color: #0000BB">L</span><span style="color: #007700">]<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Point 3,<br />In your file conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">urlrewriting</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">0<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_routing<br />conf</span><span style="color: #007700">=</span><span style="color: #0000BB">conf</span><span style="color: #007700">/</span><span style="color: #0000BB">routing</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div>Passer la variable enabled &agrave; 1<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">urlrewriting</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">enabled</span><span style="color: #007700">=</span><span style="color: #0000BB">1<br /></span><span style="color: #007700">class=</span><span style="color: #0000BB">plugin_routing<br />conf</span><span style="color: #007700">=</span><span style="color: #0000BB">conf</span><span style="color: #007700">/</span><span style="color: #0000BB">routing</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div><br />Point 4,<br />Edit your file conf/routing.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$tab</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articles.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articleDetail_:id:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articleEdit_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::edit'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'taches'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'taches_archives'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::archivelist'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tacheDetail_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tacheEdit_:id:'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'tache::edit'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),&nbsp;</span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//page&nbsp;404&nbsp;(page&nbsp;non&nbsp;trouve)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'404'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>You can read a configure example<br />To explain: when you call a page, the framework look for on of keys in this array<br />For example, you call the page articles.html which will call module &quot;article&quot; and action &quot;list&quot;<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'articles.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>If you have a variable part, for example the article id<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'article_:id:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'article::show'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: if no rules match, we call the 404 page<br /><br />We use the variable &quot;nav&quot; wich contains the couple module/action and &quot;tParam&quot; (not mandatory) if there is some parameters to get<br />For example, if you need a variable &quot;CAT_PKEY&quot; in a category page (index.php?:nav=categorie::list&amp;CAT_PKEY=2)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'categorie_:CAT_PKEY:.html'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;&nbsp;array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'nav'</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">'categorie::list'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'tParam'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;array(</span><span style="color: #DD0000">'CAT_PKEY'</span><span style="color: #007700">)<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>In this example, the link index.php?:nav=categorie::list&amp;CAT_PKEY=2 is transform to categorie_2.html<br /><br />You can enable/disable the urlrewriting.enabled to switch between mode normal/urlrewriting, it&#039;s automatic (the method _root::getLink() is in charge of this)<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="parametremodulepardefaut" name="parametremodulepardefaut"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Configure the default module</h2>The default page of your website is configured in [navigation] section<br />In your file conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">navigation</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">scriptname</span><span style="color: #007700">=</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">var=:</span><span style="color: #0000BB">nav<br />module</span><span style="color: #007700">.default=</span><span style="color: #0000BB">article<br />action</span><span style="color: #007700">.default=list<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />You can read the variable &quot;module.default&quot; which indicate the default module, and the variable &quot;action.default&quot; for default action to call.<br />In this configuration, the framework will call the module &quot;module_article&quot; and his method &quot;_list&quot; (it is an action)<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="filegetcontent" name="filegetcontent"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Read a file</h2>Use the class _file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/myfile.txt'</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getContent</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="filesetcontent" name="filesetcontent"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Create/Write in a file</h2>Use the class _file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oFile</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_file</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/myfile.txt'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setContent</span><span style="color: #007700">(</span><span style="color: #DD0000">'my&nbsp;text'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="dirsave" name="dirsave"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>Create a directory</h2>Use the class _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/myDirectory'</span><span style="color: #007700">);<br />print&nbsp;</span><span style="color: #0000BB">$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">save</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="dirlist" name="dirlist"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>List file in a directory</h2>Use the class _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/myDirectory'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tFile</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListFile</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: this method return an array of object _file<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$tFile&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$oFile</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getAdresse</span><span style="color: #007700">();<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br /><p><a id="sdirlist" name="sdirlist"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>List directory in an othen directory</h2>Use the class _dir<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br />$oDir</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_dir</span><span style="color: #007700">(</span><span style="color: #DD0000">'/tmp/myDirectory'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$tDir&nbsp;$oDir</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getListDir</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>note: this method returns an array of object _dir<br /><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="jqueryinnerhtml" name="jqueryinnerhtml"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>JQuery, make a link innerHtml</h2>You can update an html element with the return of a page<br />With the plugin plugin_jquery, you can create javascript function using jquery framework<br />For example, you can have an article list, you click on it and display the article detail<br />First create the javascript function &quot;showArticle&quot; which will need one arguement (the article id)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'showArticle'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'param_id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addLinkUpdateElement</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::showajax'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'$param_id'</span><span style="color: #007700">))&nbsp;,</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">)&nbsp;;<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModifyElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'show'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>The generate code<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;<br />function&nbsp;</span><span style="color: #0000BB">showArticle</span><span style="color: #007700">(</span><span style="color: #0000BB">param_id</span><span style="color: #007700">){<br />$.</span><span style="color: #0000BB">ajax</span><span style="color: #007700">({<br /></span><span style="color: #0000BB">url</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'index.php?:nav=article::showajax&amp;id='</span><span style="color: #007700">+</span><span style="color: #0000BB">param_id</span><span style="color: #007700">+</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">success</span><span style="color: #007700">:&nbsp;function(</span><span style="color: #0000BB">response</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #FF8000">//&nbsp;update&nbsp;status&nbsp;element<br /></span><span style="color: #007700">$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">html</span><span style="color: #007700">(</span><span style="color: #0000BB">response</span><span style="color: #007700">);<br />}<br />});<br />$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">show</span><span style="color: #007700">();}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Then, you can call easily this function in your article array<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$tArticle&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">):</span><span style="color: #0000BB">?&gt;<br /></span>&lt;a&nbsp;href="#"&nbsp;onclick="showArticle(<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">id?&gt;</span>)"&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$oArticle</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">titre?&gt;</span>&lt;/a&gt;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endforeach;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>And the html element which will be updated<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">div&nbsp;id</span><span style="color: #007700">=</span><span style="color: #DD0000">"rendu"</span><span style="color: #007700">&gt;&lt;/</span><span style="color: #0000BB">div</span><span style="color: #007700">&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />note: to use jQuery library, you have to include it in your layout<br />Think to get the latest version of jQuery to keep it in local http://docs.jquery.com/Downloading_jQuery#Current_Release (or link the latest)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="jquerymodifyhtml" name="jquerymodifyhtml"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>JQuery, update an html element</h2>You can update an html element with jQuery<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'afficher'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModifyElement</span><span style="color: #007700">(</span><span style="color: #DD0000">'rendu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'show'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Code g&eacute;n&eacute;r&eacute;<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;function&nbsp;</span><span style="color: #0000BB">affiche</span><span style="color: #007700">(){<br />$(</span><span style="color: #DD0000">'#rendu'</span><span style="color: #007700">).</span><span style="color: #0000BB">show</span><span style="color: #007700">();}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />note: to use jQuery library, you have to include it in your layout<br />Think to get the latest version of jQuery to keep it in local http://docs.jquery.com/Downloading_jQuery#Current_Release (or link the latest)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br /><p><a href="#">Go top</a></p><br /><br /><p><a id="jquerycallback" name="jquerycallback"></a></p><p style="margin:40px 10px">&nbsp;</p><br /><h2>JQuery, make an ajax call with a callback</h2>You can make an ajax call and ask to send the response to a javascript function<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br />$oFunctionShow</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">plugin_jquery</span><span style="color: #007700">(</span><span style="color: #DD0000">'showArticle'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'param_id'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addLinkCallFunction</span><span style="color: #007700">(&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::showajax'</span><span style="color: #007700">,array(</span><span style="color: #DD0000">'id'</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'$param_id'</span><span style="color: #007700">))&nbsp;,</span><span style="color: #DD0000">'interprete'</span><span style="color: #007700">)&nbsp;;<br />echo&nbsp;</span><span style="color: #0000BB">$oFunctionShow</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getJs</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Generate code<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;language</span><span style="color: #007700">=</span><span style="color: #DD0000">"Javascript"</span><span style="color: #007700">&gt;function&nbsp;</span><span style="color: #0000BB">showArticle</span><span style="color: #007700">(</span><span style="color: #0000BB">param_id</span><span style="color: #007700">){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">$.</span><span style="color: #0000BB">ajax</span><span style="color: #007700">({<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;url</span><span style="color: #007700">:&nbsp;</span><span style="color: #DD0000">'index.php?:nav=article::showajax&amp;id='</span><span style="color: #007700">+</span><span style="color: #0000BB">param_id</span><span style="color: #007700">+</span><span style="color: #DD0000">''</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;success</span><span style="color: #007700">:&nbsp;function(</span><span style="color: #0000BB">response</span><span style="color: #007700">)&nbsp;{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;call&nbsp;function<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;interprete</span><span style="color: #007700">(</span><span style="color: #0000BB">response</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">});<br />}</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Don&#039;t forget to write your &quot;interprete&quot; function which will receive the ajax response<br /><br />note: to use jQuery library, you have to include it in your layout<br />Think to get the latest version of jQuery to keep it in local http://docs.jquery.com/Downloading_jQuery#Current_Release (or link the latest)<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"http://code.jquery.com/jquery.min.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div><br />	 
		</div>	
	 
		</main>
	 
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="site/js/jquery-3.2.1.slim.min.js" ></script>
     <script src="site/js/bootstrap.min.js" ></script>
  </body>
</html>

<!--cache -->