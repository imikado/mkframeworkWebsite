<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="site/css/bootstrap.min_v2.css" />
    
 
    <title>MkFramework</title>
 <link rel="stylesheet" type="text/css" href="site/css/main.css" media="screen" />
  <link rel="stylesheet" type="text/css" href="site/css/jumbotron.css" media="screen" />


  
<script src="site/js/main.js" type="text/javascript"></script>

<link rel="alternate" type="application/rss+xml" title="RSS" href="news.rss"/>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34332613-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
<style>
.container2{
margin-top:40px;

}
</style>
</head>
<body>

<style>
.navbar .navbar-brand{
background: url('site/css/images//logoMk.png') no-repeat 0px 0px ;
padding-left:60px;
}
</style>

<nav class="navbar navbar-expand-md fixed-top navbar-dark bg-dark">
	<a class="navbar-brand" href="#">MKFramework</a>
	<button class="navbar-toggler p-0 border-0" type="button" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="navbar-toggler-icon"></span>
	</button>
	
 

	<div class="navbar-collapse collapse"  >
		<ul class="navbar-nav mr-auto">
		
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="accueil.html">Accueil <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="news.html">Le site <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="fonctionnement.html">Pr&eacute;sentation <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="start.html">Documentation <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="publishonweb.html">Publications <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a  class="nav-link" href="telecharger.html">T&eacute;l&eacute;charger <span class="sr-only">(current)</span></a>
				</li>
			
				
				
			
							
				<li class="nav-item ">
					<a target="_blank" class="nav-link" href="http://www.developpez.net/forums/f1355/applications/projets/projets-heberges/mkframework/">Forum <span class="sr-only">(current)</span></a>
				</li>
			
				
				
						
			
          
		</ul>
		
		<ul class="navbar-nav  navbar-right">
						<li class="nav-item"><a class="nav-link" style="font-weight:bold" href="podcastsTuto_5.html">FR</a></li>

			<li><a class="nav-link"  href="podcastsTuto_5.html">EN</a></li>
		</ul>
		
	</div>
</nav>
 <style>
 .navbar-custom {
    background-color: #124c5c;
}</style>
<nav class="navbar navbar-expand-md  navbar-custom navbar-dark">
	 

	<div class="navbar-collapse collapse"  >
		<ul class="navbar-nav mr-auto">
	
			
	
		  
  
         
	</ul>
</div>
</nav>


    
      <main role="main">
      
		<div class="container container2">
	 
		<h1>Episode 6: Builder: module menu</h1><h2>I. Introduction</h2>Dans cet &eacute;pisode nous allons montrer comment simplement g&eacute;n&eacute;rer un module menu pour notre application.<br /><br />Cr&eacute;er d&#039;abord une application<br />Dans le builder, nous g&eacute;n&eacute;rons une application &quot;application&quot;<br /><img src="data/img/podcastTuto_5builder.jpg" /><br /><br /><h2>II. Le builder, la section modules int&eacute;grable</h2>En cliquant sur le bouton d&#039;&eacute;dition de projet, vous pouvez voir plusieurs sections dont celle qui va nous int&eacute;resser ici : &quot;Modules int&eacute;grable&quot;<br /><img src="data/img/podcastTuto_5builder2.jpg" /><br /><br /><h2>III. Pr&eacute;paration pour le tutoriel</h2>Afin d&#039;avoir un peu plus de mati&egrave;re, nous allons cr&eacute;er un module simple<br /><img src="data/img/podcastTuto_5builder3.jpg" /><br /><br />Nous avons donc &agrave; cet instant deux modules: le module &quot;default&quot; (cr&eacute;&eacute; avec l&#039;application) ainsi que le module &quot;news&quot; g&eacute;n&eacute;r&eacute; &agrave; l&#039;instant<br /><br /><h2>IV. G&eacute;n&eacute;rons notre module &quot;menu&quot;</h2>Cliquez sur le lien &quot;Cr&eacute;er un module menu&quot;<br /><img src="data/img/podcastTuto_5builder4.jpg" /><br /><br />Le builder vous affiche un formulaire<br /><img src="data/img/podcastTuto_5builder5.jpg" /><br /><br />Premi&egrave;rement on vous propose de choisir le nom du module qui sera g&eacute;n&eacute;r&eacute;, par d&eacute;faut &quot;menu&quot;, mais vous pouvez le changer.<br />Nous allons le modifier pour menuEmbedded pour l&#039;occasion.<br />Ensuite, le builder vous liste tous les modules avec leurs diff&eacute;rentes actions disponibles.<br />Vous pouvez ainsi cocher &agrave; votre gr&eacute; les actions et indiquer dans la collonne situ&eacute;e &agrave; cot&eacute; le libell&eacute; associ&eacute;.<br />Ici nous renseignons &quot;Accueil&quot; pour l&#039;action _index() du module &quot;default&quot; et &quot;News&quot; pour l&#039;action _list() du module &quot;news&quot;<br /><img src="data/img/podcastTuto_5builder6.jpg" /><br />Validez le formulaire:<br /><img src="data/img/podcastTuto_5builder7.jpg" /><br />Le builder a cr&eacute;&eacute; notre module menuEmbedded<br /><br /><h2>V. Inclusion de ce module dans notre application</h2>Pour inclure ce module, on peut lire qu&#039;il nous suffit d&#039;ajouter une ligne de code dans la m&eacute;thode before() de nos modules<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//assignez&nbsp;le&nbsp;menu&nbsp;a&nbsp;l'emplacement&nbsp;menu<br /></span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menuEmbedded::index'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Editez donc le fichier module/default/main.php, sa m&eacute;thode before()<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_default&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//assignez&nbsp;le&nbsp;menu&nbsp;a&nbsp;l'emplacement&nbsp;menu<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menuEmbedded::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Pour expliquer, cette ligne de code indique d&#039;ajouter un module (m&eacute;thode addModule)&quot; &agrave; l&#039;emplacement &quot;menu&quot;, en appelant le couple module/action &quot;module menuEmbedded, action _index()&quot;<br /><br />Faites de m&ecirc;me pour le module &quot;news&quot;, en ajoutant la m&ecirc;me chose dans la m&eacute;thode before()<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">module_news&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_module</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//assignez&nbsp;le&nbsp;menu&nbsp;a&nbsp;l'emplacement&nbsp;menu<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menuEmbedded::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />On passe de ce rendu:<br /><img src="data/img/podcastTuto_5siteN.jpg" /><br />A celui-ci<br /><img src="data/img/podcastTuto_5siteN2.jpg" /><br /><br /><br /><h2>VI. Zoom sur le module menu</h2><img src="data/img/podcastTuto_5tree.jpg" /><br />Si on &eacute;dite le code de ce module g&eacute;n&eacute;r&eacute;, on a dans le ficheir module/menuEmbedded/main.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">Class&nbsp;</span><span style="color: #0000BB">module_menuEmbedded&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">abstract_moduleembedded</span><span style="color: #007700">{<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">_index</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$tLink</span><span style="color: #007700">=array(<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Accueil'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'default::index'</span><span style="color: #007700">,<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'News'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #DD0000">'news::list'</span><span style="color: #007700">,<br /><br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_view</span><span style="color: #007700">(</span><span style="color: #DD0000">'menuEmbedded::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oView</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink</span><span style="color: #007700">=</span><span style="color: #0000BB">$tLink</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">return&nbsp;</span><span style="color: #0000BB">$oView</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>On retrouve bien les valeurs renseign&eacute;s: les libell&eacute;s du menu en cl&eacute;, et le lien vers le couple module/action en valeur d&#039;un tableau.<br />Celui-ci &eacute;tant assign&eacute; &agrave; une vue index<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">ul</span><span style="color: #007700">&gt;<br />&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">tLink&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$sLibelle&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$sLink</span><span style="color: #007700">):&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">if(</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getParamNav</span><span style="color: #007700">()==</span><span style="color: #0000BB">$sLink</span><span style="color: #007700">):</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&nbsp;class="selectionne"&gt;&lt;a&nbsp;href="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #0000BB">$sLink</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>"&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$sLibelle&nbsp;?&gt;</span>&lt;/a&gt;&lt;/li&gt;<br />&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">else:</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;li&gt;&lt;a&nbsp;href="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #0000BB">$sLink</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>"&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$sLibelle&nbsp;?&gt;</span>&lt;/a&gt;&lt;/li&gt;<br />&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endif;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;<br /><span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">endforeach;</span><span style="color: #0000BB">?&gt;<br /></span>&lt;/ul&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Qui se contente de boucler sur le tableau et d&#039;ajouter une classe css &quot;selectionne&quot; lorsque le lien est s&eacute;l&eacute;ctionn&eacute;.<br />La chose a se rappeler: le builder ne fait que g&eacute;n&eacute;rer des modules et des vues, vous avez la main ensuite pour les am&eacute;liorer/personnaliser en fonction de vos besoins.<br /><br /><h2>VII. Parenth&egrave;se : pour choisir le couple module/action par d&eacute;faut</h2>Editez le fichier conf/site.ini.php<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">[</span><span style="color: #0000BB">navigation</span><span style="color: #007700">]<br /></span><span style="color: #0000BB">scriptname</span><span style="color: #007700">=</span><span style="color: #0000BB">index</span><span style="color: #007700">.</span><span style="color: #0000BB">php<br /></span><span style="color: #007700">var=:</span><span style="color: #0000BB">nav<br />module</span><span style="color: #007700">.default=default<br /></span><span style="color: #0000BB">action</span><span style="color: #007700">.default=</span><span style="color: #0000BB">index<br />&nbsp;&nbsp;&nbsp;</span><br />
</span><br />
</code></div>Comme vous pouvez le voir, il y deux variables &quot;module.default&quot; et &quot;action.default&quot; qui permettent de le param&eacute;trer.<br /><br /><h2>VIII. Parenth&egrave;se 2: diff&eacute;rence entre le module &quot;menuEmbedded&quot; et les autres</h2>Le module menu est un menu int&eacute;grable, celui-ci retourne son objet vue, alors que les autres modules (default/news) sont des modules autonomes qui g&egrave;rent la cr&eacute;ation du layout, et son affichage.<br /><br />Le fait de retourner son objet vue, permet aux autres modules de le r&eacute;cup&eacute;rer pour l&#039;ajouter dans leur layout.<br /><br /><h2>IX. Parenth&egrave;se 3: pour inclure un module int&eacute;grable</h2>Pour information, il existe deux moyens diff&eacute;rents d&#039;inclure un module int&eacute;grable dans votre application, soit via la m&eacute;thode addModule, soit en utilisant les objets:<br />Via la m&eacute;thode addModule:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//assignez&nbsp;le&nbsp;menu&nbsp;a&nbsp;l'emplacement&nbsp;menu<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addModule</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #DD0000">'menuEmbedded::index'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div>Soit en manipulant les objets:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">before</span><span style="color: #007700">(){<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">_layout</span><span style="color: #007700">(</span><span style="color: #DD0000">'template1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//assignez&nbsp;le&nbsp;menu&nbsp;a&nbsp;l'emplacement&nbsp;menu<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oModuleMenu</span><span style="color: #007700">=new&nbsp;</span><span style="color: #0000BB">module_menuEmbedded</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$oViewMenu</span><span style="color: #007700">=</span><span style="color: #0000BB">$oModuleMenu</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">_index</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">oLayout</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">,</span><span style="color: #0000BB">$oViewMenu</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000B"></span><br />
</span><br />
</code></div><br />Pour rappel, le layout template1 utilis&eacute; ici:<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;</span><span style="color: #007700">&amp;</span><span style="color: #0000BB">lt</span><span style="color: #007700">;!</span><span style="color: #0000BB">DOCTYPE&nbsp;HTML&nbsp;</span><span style="color: #007700">PUBLIC&nbsp;&amp;</span><span style="color: #0000BB">quot</span><span style="color: #007700">;-</span><span style="color: #FF8000">//W3C//DTD&nbsp;HTML&nbsp;4.01&nbsp;Transitional//EN&amp;quot;&nbsp;&amp;quot;http://www.w3.org/TR/html4/loose.dtd&amp;quot;&amp;gt;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">html</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">head</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">application</span><span style="color: #007700">&lt;/</span><span style="color: #0000BB">title</span><span style="color: #007700">&gt;<br />&lt;</span><span style="color: #0000BB">link&nbsp;rel</span><span style="color: #007700">=</span><span style="color: #DD0000">"stylesheet"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/css"&nbsp;</span><span style="color: #0000BB">href</span><span style="color: #007700">=</span><span style="color: #DD0000">"css/main.css"&nbsp;</span><span style="color: #0000BB">media</span><span style="color: #007700">=</span><span style="color: #DD0000">"screen"&nbsp;</span><span style="color: #007700">/&gt;<br />&lt;</span><span style="color: #0000BB">script&nbsp;src</span><span style="color: #007700">=</span><span style="color: #DD0000">"js/main.js"&nbsp;</span><span style="color: #0000BB">type</span><span style="color: #007700">=</span><span style="color: #DD0000">"text/javascript"</span><span style="color: #007700">&gt;</span><span style="color: #0000BB">&lt;/script&gt;<br /></span>&lt;link&nbsp;rel="alternate"&nbsp;type="application/rss+xml"&nbsp;title="RSS"&nbsp;href="<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">_root</span><span style="color: #007700">::</span><span style="color: #0000BB">getLink</span><span style="color: #007700">(</span><span style="color: #DD0000">'article::newsrss'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>"/&gt;<br />&lt;meta&nbsp;http-equiv="Content-Type"&nbsp;content="text/html;&nbsp;charset=utf-8"/&gt;<br />&lt;/head&gt;<br />&lt;body&gt;<br /><br />&lt;div&nbsp;class="main"&gt;<br />&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class="menu"&gt;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp;&lt;div&nbsp;class="content"&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color: #0000BB">&lt;?php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;&lt;/div&gt;<br />&lt;/div&gt;<br /><br />&lt;/body&gt;<br />&lt;/html&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Qui contient bien deux appels de chargement d&#039;emplacement m&eacute;moire &quot;menu&quot; et &quot;main&quot;<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;</span><span style="color: #0000BB">div&nbsp;</span><span style="color: #007700">class=</span><span style="color: #DD0000">"menu"</span><span style="color: #007700">&gt;&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'menu'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;</span>&lt;/div&gt;<br />&nbsp;&nbsp;&nbsp;</span><br />
</code></div>Et<br /><div class="code"> <code><span style="color: #000000"><br />
<span style="color: #0000BB">&nbsp;&nbsp;<br /></span><span style="color: #007700">&lt;?</span><span style="color: #0000BB">php&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">load</span><span style="color: #007700">(</span><span style="color: #DD0000">'main'</span><span style="color: #007700">)&nbsp;</span><span style="color: #0000BB">?&gt;<br /></span>&nbsp;&nbsp;&nbsp;</span><br />
</code></div>	 
		</div>	
	 
		</main>
	 
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="site/js/jquery-3.2.1.slim.min.js" ></script>
     <script src="site/js/bootstrap.min.js" ></script>
  </body>
</html>

<!--cache -->